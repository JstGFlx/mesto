(()=>{"use strict";class e{constructor(e,t){this.setButtonState=()=>{this._checkInvalidInput()?(this._button.classList.add(this._inactiveButton),this._button.disabled=!0):(this._button.classList.remove(this._inactiveButton),this._button.disabled=!1)},this.resetValidityMassage=()=>{this._inputList.forEach((e=>{e.classList.remove(this._inputError)})),this._errors.forEach((e=>{e.textContent=""}))},this._form=document.querySelector(`form[name=${t}]`),this._input=e.inputSelector,this._submitButton=e.submitButtonSelector,this._inactiveButton=e.inactiveButtonClass,this._inputError=e.inputErrorClass,this._errors=this._form.querySelectorAll(e.errorClass),this._inputList=[...this._form.querySelectorAll(this._input)],this._button=this._form.querySelector(this._submitButton)}_showError(e){this._error=this._form.querySelector(`#${e.id}-error`),this._error.textContent=e.validationMessage,e.classList.add(this._inputError)}_hideError(e){this._error=this._form.querySelector(`#${e.id}-error`),this._error.textContent="",e.classList.remove(this._inputError)}_checkInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_checkInputValidity(e){e.validity.valid?this._hideError(e):this._showError(e)}_setEventListener(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.setButtonState()}))}))}reseteInputsValues(){this._inputList.forEach((e=>{e.value=""}))}enableValidation(){this._setEventListener(),this.setButtonState()}}class t{constructor({name:e,link:t,likes:s,_id:i,owner:r},o,n,a,h,_,u,p){this._title=e,this._image=t,this._id=i,this._owner=r,this._template=document.querySelector(o),this._openPopupView=a,this._openPopupDelete=h,this._putLikeCard=_,this._deleteLike=u,this._likes=s,this._myId=n,this._showErrorMassage=p,this._element=this._getTemplate(),this._elementImage=this._element.querySelector(".card__image"),this._elementDesc=this._element.querySelector(".card__name"),this._elementBtnDelete=this._element.querySelector(".btn_type_delete"),this._likeButton=this._element.querySelector(".card__like"),this._likeCounter=this._element.querySelector(".card__like-counter")}_getTemplate(){return this._template.content.querySelector(".card").cloneNode(!0)}_toggleLikeTheCard(e,t){this._checkMyLike()?this._deleteLike(t).then((t=>{this._likes=t.likes,this._likeCounter.textContent=t.likes.length,e.target.classList.toggle("card__like_active")})).catch((e=>{this._showErrorMassage(e)})):this._putLikeCard(t).then((t=>{this._likes=t.likes,this._likeCounter.textContent=t.likes.length,e.target.classList.toggle("card__like_active")})).catch((e=>{this._showErrorMassage(e)}))}_checkMyLike(){return this._likes.some((e=>e._id===this._myId))}generateCard(){return this._elementImage.src=this._image,this._elementImage.alt=this._title,this._elementDesc.textContent=this._title,this._likeCounter.textContent=this._likes.length,this._setEventListeners(),this._owner._id===this._myId&&this._elementBtnDelete.classList.add("btn_visible"),this._checkMyLike()&&this._likeButton.classList.add("card__like_active"),this._element}_setEventListeners(){this._elementImage.addEventListener("click",(()=>{this._openPopupView(this._image,this._title)})),this._likeButton.addEventListener("click",(e=>{this._toggleLikeTheCard(e,this._id,this._likes)})),this._elementBtnDelete.addEventListener("click",(()=>{this._openPopupDelete(this._element,this._id)}))}}class s{constructor(e){this.closePopup=()=>{this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._closeByEscape)},this._closeByEscape=e=>{27===e.keyCode&&this.closePopup()},this._popup=document.querySelector(e)}openPopup(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._closeByEscape)}_closeByClick(e){e.target.classList.contains("popup_opened")&&this.closePopup()}setEventListeners(){this._popup.querySelector(".btn_type_close").addEventListener("click",this.closePopup),this._popup.addEventListener("mousedown",(e=>this._closeByClick(e)))}}class i extends s{constructor({submitForm:e},t,s){super(t),this.setEventListeners=()=>{super.setEventListeners(),this._form=this._popup.querySelector(".popup__form"),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._submitForm(this._getInputValues())}))},this._submitForm=e,this._inputList=this._popup.querySelectorAll(".popup__input"),this._resetValidityMassage=s}setInitialInputsValues(e){this._inputList.forEach((t=>{e[t.name]&&(t.value=e[t.name])}))}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>this._formValues[e.name]=e.value)),this._formValues}closePopup(){super.closePopup(),this._form.reset(),this._resetValidityMassage()}}const r={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:".popup__error"},o=document.querySelector(".btn_type_edit"),n=document.querySelector(".btn_type_add"),a=document.querySelector(".profile__avatar"),h=document.querySelector(".popup__button_type_edit"),_=document.querySelector(".popup__button_type_edit-avatar"),u=document.querySelector(".popup__button_type_add"),p=document.querySelector(".popup__button_type_delete"),l=document.querySelector(".error__template"),c=document.querySelector(".errors");function d(e,t){t.textContent=e?"Сохранение...":"Сохранить"}function m(e){u.textContent=e?"Создание...":"Создать"}function y(e){p.textContent=e?"Удаление...":"Да"}function f(e){const t=function(e){const t=l.content.querySelector(".error").cloneNode(!0);return t.querySelector(".error__massage").textContent=`${e}. Что-то пошло не так :(`,t}(e);c.prepend(t),new Promise((e=>{setTimeout((()=>{t.classList.add("popup_opened"),e(t)}),0)})).then((e=>new Promise((t=>{setTimeout((()=>{!function(e){e.classList.remove("popup_opened")}(e),t(e)}),5e3)})))).then((e=>{setTimeout((()=>{e.remove()}),1e3)}))}let L;const v=new e(r,"edit-profile"),b=new e(r,"add-new-card"),k=new e(r,"change-avatar"),E=new class{constructor({baseUrl:e,headers:t},s,i,r,o,n){this.patchAvatar=e=>(this._renderLoadTextBtnEdit(!0,this._btnSubmitEditAvatar),fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":this._contentType},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))),this.deleteCard=e=>(this._renderLoadTextBtnDelete(!0),fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:{authorization:this._authorization}}).then((e=>e.ok?e:Promise.reject(`Ошибка: ${e.status}`)))),this.putLikeCard=e=>fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"PUT",headers:{authorization:this._authorization}}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`))),this.deleteLike=e=>fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"DELETE",headers:{authorization:this._authorization}}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`))),this._baseUrl=e,this._authorization=t.authorization,this._contentType=t["Content-Type"],this._renderLoadTextBtnEdit=s,this._renderLoadTextBtnAdd=i,this._renderLoadTextBtnDelete=r,this._btnSubmitEdit=o,this._btnSubmitEditAvatar=n}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:{authorization:this._authorization}}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:{authorization:this._authorization}}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))}pathUserInfo({name:e,about:t}){return this._renderLoadTextBtnEdit(!0,this._btnSubmitEdit),fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":this._contentType},body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))}postNewCard({name:e,link:t}){return this._renderLoadTextBtnAdd(!0),fetch(`${this._baseUrl}/cards`,{method:"POST",headers:{authorization:this._authorization,"Content-Type":this._contentType},body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))}}({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-20",headers:{authorization:"79accf8f-cc76-4033-84f9-2d1d81c30157","Content-Type":"application/json"}},d,m,y,h,_),g=new class{constructor({renderer:e},t){this._renderer=e,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>this._renderer(e)))}appendItem(e){this._container.append(e)}prependItem(e){this._container.prepend(e)}}({renderer:e=>{const t=S(e);g.appendItem(t.generateCard())}},".cards");E.getInitialCards().then((e=>{g.renderItems(e)})).catch((e=>{f(e)})),E.getUserInfo().then((e=>{L=e._id,w.setUserInfo(e)})).catch((e=>{f(e)}));const C=new i({submitForm:e=>{E.postNewCard(e).then((e=>{const t=S(e);g.prependItem(t.generateCard())})).catch((e=>{f(e)})).finally((()=>{m(!1),C.closePopup()}))}},".popup_type_add",b.resetValidityMassage);function S(e){return new t(e,".template",L,B.openPopup,q.openPopup,E.putLikeCard,E.deleteLike,f)}const I=new i({submitForm:e=>{E.pathUserInfo(e).then((e=>{w.setUserInfo(e)})).catch((e=>{f(e)})).finally((()=>{d(!1,h),I.closePopup()}))}},".popup_type_edit",v.resetValidityMassage),P=new i({submitForm:e=>{E.patchAvatar(e.link).then((e=>{w.setUserInfo(e)})).catch((e=>{f(e)})).finally((()=>{P.closePopup(),d(!1,_)}))}},".popup_type_avatar",k.resetValidityMassage),B=new class extends s{constructor(e){super(e),this.openPopup=(e,t)=>{super.openPopup(),this._image.src=e,this._desc.textContent=t,this._image.alt=t},this._image=this._popup.querySelector(".popup__image"),this._desc=this._popup.querySelector(".popup__description")}}(".popup_type_img"),q=new class extends s{constructor(e,t,s,i){super(e),this.setEventListeners=()=>{super.setEventListeners(),this._buttonDelete.addEventListener("click",(()=>{this._deleteCard()}))},this.openPopup=(e,t)=>{super.openPopup(),this._card=e,this._id=t},this._handleDeleteCard=t,this._buttonDelete=this._popup.querySelector(".popup__button"),this._renderLoadTextBtnDelete=s,this._showErrorMassage=i}_deleteCard(){this._renderLoadTextBtnDelete(!0),this._handleDeleteCard(this._id).catch((e=>{this._showErrorMassage(e)})).finally((()=>{this._renderLoadTextBtnDelete(!1),this._card.remove(),this.closePopup()}))}}(".popup_type_delete",E.deleteCard,y,f),w=new class{constructor({name:e,about:t,avatar:s}){this.getUserInfo=()=>(this._profileValues={},this._profileValues.name=this._profileName.textContent,this._profileValues.about=this._profileAbout.textContent,this._profileValues),this.setUserInfo=({name:e,about:t,avatar:s})=>{this._profileName.textContent=e,this._profileAbout.textContent=t,this._profileAvatar.style.backgroundImage=`url(${s})`},this._profileName=document.querySelector(e),this._profileAbout=document.querySelector(t),this._profileAvatar=document.querySelector(s)}}({name:".profile__name",about:".profile__about-me",avatar:".profile__avatar"});I.setEventListeners(),C.setEventListeners(),B.setEventListeners(),q.setEventListeners(),P.setEventListeners(),v.enableValidation(),b.enableValidation(),k.enableValidation(),o.addEventListener("click",(()=>{I.setInitialInputsValues(w.getUserInfo()),v.resetValidityMassage(),v.setButtonState(),I.openPopup()})),n.addEventListener("click",(()=>{b.resetValidityMassage(),b.reseteInputsValues(),b.setButtonState(),C.openPopup()})),a.addEventListener("click",(()=>{k.reseteInputsValues(),k.resetValidityMassage(),k.setButtonState(),P.openPopup()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJmb3JtIiwic2V0QnV0dG9uU3RhdGUiLCJ0aGlzIiwiX2NoZWNrSW52YWxpZElucHV0IiwiX2J1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9pbmFjdGl2ZUJ1dHRvbiIsImRpc2FibGVkIiwicmVtb3ZlIiwicmVzZXRWYWxpZGl0eU1hc3NhZ2UiLCJfaW5wdXRMaXN0IiwiZm9yRWFjaCIsImlucHV0IiwiX2lucHV0RXJyb3IiLCJfZXJyb3JzIiwiZXJyb3IiLCJ0ZXh0Q29udGVudCIsIl9mb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX2lucHV0IiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXJyb3JDbGFzcyIsIl9zaG93RXJyb3IiLCJfZXJyb3IiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVFcnJvciIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc2V0ZUlucHV0c1ZhbHVlcyIsInZhbHVlIiwiZW5hYmxlVmFsaWRhdGlvbiIsIkNhcmQiLCJuYW1lIiwibGluayIsImxpa2VzIiwiX2lkIiwib3duZXIiLCJ0ZW1wbGF0ZSIsIm15SWQiLCJvcGVuUG9wdXBWaWV3Iiwib3BlblBvcHVwRGVsZXRlIiwicHV0TGlrZUNhcmQiLCJkZWxldGVMaWtlIiwic2hvd0Vycm9yTWFzc2FnZSIsIl90aXRsZSIsIl9pbWFnZSIsIl9vd25lciIsIl90ZW1wbGF0ZSIsIl9vcGVuUG9wdXBWaWV3IiwiX29wZW5Qb3B1cERlbGV0ZSIsIl9wdXRMaWtlQ2FyZCIsIl9kZWxldGVMaWtlIiwiX2xpa2VzIiwiX215SWQiLCJfc2hvd0Vycm9yTWFzc2FnZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2VsZW1lbnRJbWFnZSIsIl9lbGVtZW50RGVzYyIsIl9lbGVtZW50QnRuRGVsZXRlIiwiX2xpa2VCdXR0b24iLCJfbGlrZUNvdW50ZXIiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RvZ2dsZUxpa2VUaGVDYXJkIiwiZXZ0IiwiX2NoZWNrTXlMaWtlIiwidGhlbiIsInJlcyIsImxlbmd0aCIsInRhcmdldCIsInRvZ2dsZSIsImNhdGNoIiwiZXJyIiwib2JqIiwiZ2VuZXJhdGVDYXJkIiwic3JjIiwiYWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXAiLCJwb3B1cCIsImNsb3NlUG9wdXAiLCJfcG9wdXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2Nsb3NlQnlFc2NhcGUiLCJrZXlDb2RlIiwib3BlblBvcHVwIiwiX2Nsb3NlQnlDbGljayIsImNvbnRhaW5zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Rm9ybSIsInN1cGVyIiwicHJldmVudERlZmF1bHQiLCJfc3VibWl0Rm9ybSIsIl9nZXRJbnB1dFZhbHVlcyIsIl9yZXNldFZhbGlkaXR5TWFzc2FnZSIsInNldEluaXRpYWxJbnB1dHNWYWx1ZXMiLCJ2YWx1ZXMiLCJfZm9ybVZhbHVlcyIsInJlc2V0IiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImJ1dHRvbkVkaXQiLCJidXR0b25BZGQiLCJwcm9maWxlQXZhdGFyIiwiYnRuU3VibWl0RWRpdCIsImJ0blN1Ym1pdEVkaXRBdmF0YXIiLCJidG5TdWJtaXRBZGQiLCJidG5TdWJtaXREZWxldGUiLCJlcnJvclRlbXBsYXRlIiwiZXJyb3JzQ29udGFpbmVyIiwicmVuZGVyTG9hZFRleHRCdG5FZGl0IiwiaXNMb2FkaW5nIiwiYnRuIiwicmVuZGVyTG9hZFRleHRCdG5BZGQiLCJyZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZSIsImVyckVsZW0iLCJlcnJvckVsZW1lbnQiLCJjcmVhdGVFcnJvckVsZW1lbnQiLCJQcm9taXNlIiwic2V0VGltZW91dCIsInJlc29sdmUiLCJoaWRlRXJyb3JNYXNzYWdlIiwidXNlcklkIiwidmFsaWRhdG9yRWRpdCIsInZhbGlkYXRvckFkZCIsInZhbGlkYXRvckF2YXRhciIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwicGF0Y2hBdmF0YXIiLCJfcmVuZGVyTG9hZFRleHRCdG5FZGl0IiwiX2J0blN1Ym1pdEVkaXRBdmF0YXIiLCJmZXRjaCIsIl9iYXNlVXJsIiwibWV0aG9kIiwiYXV0aG9yaXphdGlvbiIsIl9hdXRob3JpemF0aW9uIiwiX2NvbnRlbnRUeXBlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJvayIsImpzb24iLCJyZWplY3QiLCJzdGF0dXMiLCJkZWxldGVDYXJkIiwiX3JlbmRlckxvYWRUZXh0QnRuRGVsZXRlIiwiX3JlbmRlckxvYWRUZXh0QnRuQWRkIiwiX2J0blN1Ym1pdEVkaXQiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsInBhdGhVc2VySW5mbyIsImFib3V0IiwicG9zdE5ld0NhcmQiLCJjYXJkc0xpc3QiLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwiYXBwZW5kSXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kSXRlbSIsInByZXBlbmQiLCJjYXJkIiwiY3JlYXRlQ2FyZCIsInVzZXNJbmZvIiwic2V0VXNlckluZm8iLCJwb3B1cFR5cGVBZGQiLCJmaW5hbGx5IiwicG9wdXBUeXBlSW1hZ2UiLCJwb3B1cFR5cGVEZWxldGUiLCJwb3B1cFR5cGVFZGl0IiwicG9wdXBUeXBlQXZhdGFyIiwiX2Rlc2MiLCJoYW5kbGVEZWxldGVDYXJkIiwiX2J1dHRvbkRlbGV0ZSIsIl9kZWxldGVDYXJkIiwiX2NhcmQiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9wcm9maWxlVmFsdWVzIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVBYm91dCIsIl9wcm9maWxlQXZhdGFyIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiXSwibWFwcGluZ3MiOiJtQkFDZSxNQUFNQSxFQUNuQkMsWUFBWUMsRUFBTUMsR0FBTSxLQXFDeEJDLGVBQWlCLEtBQ1ZDLEtBQUtDLHNCQUlSRCxLQUFLRSxRQUFRQyxVQUFVQyxJQUFJSixLQUFLSyxpQkFDaENMLEtBQUtFLFFBQVFJLFVBQVcsSUFKeEJOLEtBQUtFLFFBQVFDLFVBQVVJLE9BQU9QLEtBQUtLLGlCQUNuQ0wsS0FBS0UsUUFBUUksVUFBVyxJQXhDSixLQThEeEJFLHFCQUF1QixLQUNyQlIsS0FBS1MsV0FBV0MsU0FBU0MsSUFDdkJBLEVBQU1SLFVBQVVJLE9BQU9QLEtBQUtZLGdCQUU5QlosS0FBS2EsUUFBUUgsU0FBU0ksSUFDcEJBLEVBQU1DLFlBQWMsT0FsRXRCZixLQUFLZ0IsTUFBUUMsU0FBU0MsY0FBZSxhQUFZcEIsTUFDakRFLEtBQUttQixPQUFTdEIsRUFBS3VCLGNBQ25CcEIsS0FBS3FCLGNBQWdCeEIsRUFBS3lCLHFCQUMxQnRCLEtBQUtLLGdCQUFrQlIsRUFBSzBCLG9CQUM1QnZCLEtBQUtZLFlBQWNmLEVBQUsyQixnQkFDeEJ4QixLQUFLYSxRQUFVYixLQUFLZ0IsTUFBTVMsaUJBQWlCNUIsRUFBSzZCLFlBQ2hEMUIsS0FBS1MsV0FBYSxJQUFJVCxLQUFLZ0IsTUFBTVMsaUJBQWlCekIsS0FBS21CLFNBQ3ZEbkIsS0FBS0UsUUFBVUYsS0FBS2dCLE1BQU1FLGNBQWNsQixLQUFLcUIsZUFHL0NNLFdBQVdoQixHQUNUWCxLQUFLNEIsT0FBUzVCLEtBQUtnQixNQUFNRSxjQUFlLElBQUdQLEVBQU1rQixZQUNqRDdCLEtBQUs0QixPQUFPYixZQUFjSixFQUFNbUIsa0JBQ2hDbkIsRUFBTVIsVUFBVUMsSUFBSUosS0FBS1ksYUFHM0JtQixXQUFXcEIsR0FDVFgsS0FBSzRCLE9BQVM1QixLQUFLZ0IsTUFBTUUsY0FBZSxJQUFHUCxFQUFNa0IsWUFDakQ3QixLQUFLNEIsT0FBT2IsWUFBYyxHQUMxQkosRUFBTVIsVUFBVUksT0FBT1AsS0FBS1ksYUFHOUJYLHFCQUNFLE9BQU9ELEtBQUtTLFdBQVd1QixNQUFNckIsSUFDbkJBLEVBQU1zQixTQUFTQyxRQUkzQkMsb0JBQW9CeEIsR0FDZEEsRUFBTXNCLFNBQVNDLE1BQ2pCbEMsS0FBSytCLFdBQVdwQixHQUVoQlgsS0FBSzJCLFdBQVdoQixHQWNwQnlCLG9CQUNFcEMsS0FBS1MsV0FBV0MsU0FBU0MsSUFDdkJBLEVBQU0wQixpQkFBaUIsU0FBUyxLQUM5QnJDLEtBQUttQyxvQkFBb0J4QixHQUN6QlgsS0FBS0QsdUJBS1h1QyxxQkFDRXRDLEtBQUtTLFdBQVdDLFNBQVNDLElBQ3ZCQSxFQUFNNEIsTUFBUSxNQWFsQkMsbUJBQ0V4QyxLQUFLb0Msb0JBQ0xwQyxLQUFLRCxrQkMxRU0sTUFBTTBDLEVBQ25CN0MsYUFDRSxLQUFFOEMsRUFBRixLQUFRQyxFQUFSLE1BQWNDLEVBQWQsSUFBcUJDLEVBQXJCLE1BQTBCQyxHQUMxQkMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FFQXJELEtBQUtzRCxPQUFTWixFQUNkMUMsS0FBS3VELE9BQVNaLEVBQ2QzQyxLQUFLNkMsSUFBTUEsRUFDWDdDLEtBQUt3RCxPQUFTVixFQUNkOUMsS0FBS3lELFVBQVl4QyxTQUFTQyxjQUFjNkIsR0FDeEMvQyxLQUFLMEQsZUFBaUJULEVBQ3RCakQsS0FBSzJELGlCQUFtQlQsRUFDeEJsRCxLQUFLNEQsYUFBZVQsRUFDcEJuRCxLQUFLNkQsWUFBY1QsRUFDbkJwRCxLQUFLOEQsT0FBU2xCLEVBQ2Q1QyxLQUFLK0QsTUFBUWYsRUFDYmhELEtBQUtnRSxrQkFBb0JYLEVBQ3pCckQsS0FBS2lFLFNBQVdqRSxLQUFLa0UsZUFDckJsRSxLQUFLbUUsY0FBZ0JuRSxLQUFLaUUsU0FBUy9DLGNBQWMsZ0JBQ2pEbEIsS0FBS29FLGFBQWVwRSxLQUFLaUUsU0FBUy9DLGNBQWMsZUFDaERsQixLQUFLcUUsa0JBQW9CckUsS0FBS2lFLFNBQVMvQyxjQUFjLG9CQUNyRGxCLEtBQUtzRSxZQUFjdEUsS0FBS2lFLFNBQVMvQyxjQUFjLGVBQy9DbEIsS0FBS3VFLGFBQWV2RSxLQUFLaUUsU0FBUy9DLGNBQWMsdUJBR2xEZ0QsZUFDRSxPQUFPbEUsS0FBS3lELFVBQVVlLFFBQVF0RCxjQUFjLFNBQVN1RCxXQUFVLEdBR2pFQyxtQkFBbUJDLEVBQUs5QyxHQUNsQjdCLEtBQUs0RSxlQUNQNUUsS0FBSzZELFlBQVloQyxHQUNkZ0QsTUFBTUMsSUFDTDlFLEtBQUs4RCxPQUFTZ0IsRUFBSWxDLE1BQ2xCNUMsS0FBS3VFLGFBQWF4RCxZQUFjK0QsRUFBSWxDLE1BQU1tQyxPQUMxQ0osRUFBSUssT0FBTzdFLFVBQVU4RSxPQUFPLHdCQUU3QkMsT0FBT0MsSUFDTm5GLEtBQUtnRSxrQkFBa0JtQixNQUczQm5GLEtBQUs0RCxhQUFhL0IsR0FDZmdELE1BQU1DLElBQ0w5RSxLQUFLOEQsT0FBU2dCLEVBQUlsQyxNQUNsQjVDLEtBQUt1RSxhQUFheEQsWUFBYytELEVBQUlsQyxNQUFNbUMsT0FDMUNKLEVBQUlLLE9BQU83RSxVQUFVOEUsT0FBTyx3QkFFN0JDLE9BQU9DLElBQ05uRixLQUFLZ0Usa0JBQWtCbUIsTUFLL0JQLGVBQ0UsT0FBTzVFLEtBQUs4RCxPQUFPOUIsTUFBTW9ELEdBQ2hCQSxFQUFJdkMsTUFBUTdDLEtBQUsrRCxRQUk1QnNCLGVBWUUsT0FYQXJGLEtBQUttRSxjQUFjbUIsSUFBTXRGLEtBQUt1RCxPQUM5QnZELEtBQUttRSxjQUFjb0IsSUFBTXZGLEtBQUtzRCxPQUM5QnRELEtBQUtvRSxhQUFhckQsWUFBY2YsS0FBS3NELE9BQ3JDdEQsS0FBS3VFLGFBQWF4RCxZQUFjZixLQUFLOEQsT0FBT2lCLE9BQzVDL0UsS0FBS3dGLHFCQUNEeEYsS0FBS3dELE9BQU9YLE1BQVE3QyxLQUFLK0QsT0FDM0IvRCxLQUFLcUUsa0JBQWtCbEUsVUFBVUMsSUFBSSxlQUVuQ0osS0FBSzRFLGdCQUNQNUUsS0FBS3NFLFlBQVluRSxVQUFVQyxJQUFJLHFCQUUxQkosS0FBS2lFLFNBR2R1QixxQkFDRXhGLEtBQUttRSxjQUFjOUIsaUJBQWlCLFNBQVMsS0FDM0NyQyxLQUFLMEQsZUFBZTFELEtBQUt1RCxPQUFRdkQsS0FBS3NELFdBRXhDdEQsS0FBS3NFLFlBQVlqQyxpQkFBaUIsU0FBVXNDLElBQzFDM0UsS0FBSzBFLG1CQUFtQkMsRUFBSzNFLEtBQUs2QyxJQUFLN0MsS0FBSzhELFdBRTlDOUQsS0FBS3FFLGtCQUFrQmhDLGlCQUFpQixTQUFTLEtBQy9DckMsS0FBSzJELGlCQUFpQjNELEtBQUtpRSxTQUFVakUsS0FBSzZDLFNDeEZqQyxNQUFNNEMsRUFDbkI3RixZQUFZOEYsR0FBTyxLQVNuQkMsV0FBYSxLQUNYM0YsS0FBSzRGLE9BQU96RixVQUFVSSxPQUFPLGdCQUM3QlUsU0FBUzRFLG9CQUFvQixVQUFXN0YsS0FBSzhGLGlCQVg1QixLQWNuQkEsZUFBa0JuQixJQUNHLEtBQ2ZBLEVBQUlvQixTQUNOL0YsS0FBSzJGLGNBaEJQM0YsS0FBSzRGLE9BQVMzRSxTQUFTQyxjQUFjd0UsR0FHdkNNLFlBQ0VoRyxLQUFLNEYsT0FBT3pGLFVBQVVDLElBQUksZ0JBQzFCYSxTQUFTb0IsaUJBQWlCLFVBQVdyQyxLQUFLOEYsZ0JBZTVDRyxjQUFjdEIsR0FDR0EsRUFBSUssT0FDUjdFLFVBQVUrRixTQUFTLGlCQUM1QmxHLEtBQUsyRixhQUlUUSxvQkFDRW5HLEtBQUs0RixPQUNGMUUsY0FBYyxtQkFDZG1CLGlCQUFpQixRQUFTckMsS0FBSzJGLFlBQ2xDM0YsS0FBSzRGLE9BQU92RCxpQkFBaUIsYUFBY3NDLEdBQVEzRSxLQUFLaUcsY0FBY3RCLE1DaEMzRCxNQUFNeUIsVUFBc0JYLEVBQ3pDN0YsYUFBWSxXQUFFeUcsR0FBY1gsRUFBT2xGLEdBQ2pDOEYsTUFBTVosR0FEaUQsS0FPekRTLGtCQUFvQixLQUNsQkcsTUFBTUgsb0JBQ05uRyxLQUFLZ0IsTUFBUWhCLEtBQUs0RixPQUFPMUUsY0FBYyxnQkFDdkNsQixLQUFLZ0IsTUFBTXFCLGlCQUFpQixVQUFXc0MsSUFDckNBLEVBQUk0QixpQkFDSnZHLEtBQUt3RyxZQUFZeEcsS0FBS3lHLHVCQVZ4QnpHLEtBQUt3RyxZQUFjSCxFQUNuQnJHLEtBQUtTLFdBQWFULEtBQUs0RixPQUFPbkUsaUJBQWlCLGlCQUMvQ3pCLEtBQUswRyxzQkFBd0JsRyxFQVkvQm1HLHVCQUF1QkMsR0FDckI1RyxLQUFLUyxXQUFXQyxTQUFTQyxJQUNuQmlHLEVBQU9qRyxFQUFNK0IsUUFDZi9CLEVBQU00QixNQUFRcUUsRUFBT2pHLEVBQU0rQixVQUtqQytELGtCQU1FLE9BTEF6RyxLQUFLNkcsWUFBYyxHQUNuQjdHLEtBQUtTLFdBQVdDLFNBQ2JDLEdBQVdYLEtBQUs2RyxZQUFZbEcsRUFBTStCLE1BQVEvQixFQUFNNEIsUUFHNUN2QyxLQUFLNkcsWUFHZGxCLGFBQ0VXLE1BQU1YLGFBQ04zRixLQUFLZ0IsTUFBTThGLFFBQ1g5RyxLQUFLMEcseUJDekJULE1BQU1LLEVBQW1CLENBQ3ZCQyxhQUFjLGVBQ2Q1RixjQUFlLGdCQUNmRSxxQkFBc0IsaUJBQ3RCQyxvQkFBcUIseUJBQ3JCQyxnQkFBaUIsMEJBQ2pCRSxXQUFZLGlCQUdSdUYsRUFBYWhHLFNBQVNDLGNBQWMsa0JBQ3BDZ0csRUFBWWpHLFNBQVNDLGNBQWMsaUJBQ25DaUcsRUFBZ0JsRyxTQUFTQyxjQUFjLG9CQUN2Q2tHLEVBQWdCbkcsU0FBU0MsY0FBYyw0QkFDdkNtRyxFQUFzQnBHLFNBQVNDLGNBQ25DLG1DQUVJb0csRUFBZXJHLFNBQVNDLGNBQWMsMkJBQ3RDcUcsRUFBa0J0RyxTQUFTQyxjQUFjLDhCQUN6Q3NHLEVBQWdCdkcsU0FBU0MsY0FBYyxvQkFDdkN1RyxFQUFrQnhHLFNBQVNDLGNBQWMsV0NuQi9DLFNBQVN3RyxFQUFzQkMsRUFBV0MsR0FFdENBLEVBQUk3RyxZQURGNEcsRUFDZ0IsZ0JBRUEsWUFJdEIsU0FBU0UsRUFBcUJGLEdBRTFCTCxjQURFSyxFQUN5QixjQUVBLFVBSS9CLFNBQVNHLEVBQXdCSCxHQUU3QkosY0FERUksRUFDNEIsY0FFQSxLQW9CbEMsU0FBU3RFLEVBQWlCOEIsR0FDeEIsTUFBTTRDLEVBYlIsU0FBNEI1QyxHQUMxQixNQUFNNkMsRUFKQ1IsRUFBY2hELFFBQVF0RCxjQUFjLFVBQVV1RCxXQUFVLEdBUS9ELE9BSEF1RCxFQUFhOUcsY0FDWCxtQkFDQUgsWUFBZSxHQUFFb0UsNEJBQ1o2QyxFQVFTQyxDQUFtQjlDLEdBQ25Dc0MsVUFBd0JNLEdBQ3hCLElBQUlHLFNBQVNwRCxJQUNYcUQsWUFBVyxLQUNUSixFQUFRNUgsVUFBVUMsSUFBSSxnQkFDdEIwRSxFQUFJaUQsS0FDSCxNQUVGbEQsTUFBTUMsR0FDRSxJQUFJb0QsU0FBU0UsSUFDbEJELFlBQVcsTUFmbkIsU0FBMEJoRCxHQUN4QkEsRUFBSWhGLFVBQVVJLE9BQU8sZ0JBZWI4SCxDQUFpQnZELEdBQ2pCc0QsRUFBUXRELEtBQ1AsVUFHTkQsTUFBTUMsSUFDTHFELFlBQVcsS0FDVHJELEVBQUl2RSxXQUNILFFDbERULElBQUkrSCxFQUVKLE1BQU1DLEVBQWdCLElBQUk1SSxFQUFjb0gsRUFBa0IsZ0JBQ3BEeUIsRUFBZSxJQUFJN0ksRUFBY29ILEVBQWtCLGdCQUNuRDBCLEVBQWtCLElBQUk5SSxFQUFjb0gsRUFBa0IsaUJBRXREMkIsRUFBTSxJQzlCRyxNQUNiOUksYUFDRSxRQUFFK0ksRUFBRixRQUFXQyxHQUNYbEIsRUFDQUcsRUFDQUMsRUFDQVYsRUFDQUMsR0FDQSxLQTZFRndCLFlBQWVsRyxJQUNiM0MsS0FBSzhJLHdCQUF1QixFQUFNOUksS0FBSytJLHNCQUNoQ0MsTUFBTyxHQUFFaEosS0FBS2lKLDJCQUE0QixDQUMvQ0MsT0FBUSxRQUNSTixRQUFTLENBQ1BPLGNBQWVuSixLQUFLb0osZUFDcEIsZUFBZ0JwSixLQUFLcUosY0FFdkJDLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJDLE9BQVE5RyxNQUVUa0MsTUFBTUMsR0FDSEEsRUFBSTRFLEdBQ0M1RSxFQUFJNkUsT0FFTnpCLFFBQVEwQixPQUFRLFdBQVU5RSxFQUFJK0UsYUE1RnZDLEtBZ0dGQyxXQUFjakksSUFDWjdCLEtBQUsrSiwwQkFBeUIsR0FDdkJmLE1BQU8sR0FBRWhKLEtBQUtpSixrQkFBa0JwSCxJQUFNLENBQzNDcUgsT0FBUSxTQUNSTixRQUFTLENBQ1BPLGNBQWVuSixLQUFLb0osa0JBRXJCdkUsTUFBTUMsR0FDSEEsRUFBSTRFLEdBQ0M1RSxFQUVGb0QsUUFBUTBCLE9BQVEsV0FBVTlFLEVBQUkrRSxhQTNHdkMsS0ErR0YxRyxZQUFldEIsR0FDTm1ILE1BQU8sR0FBRWhKLEtBQUtpSix3QkFBd0JwSCxJQUFNLENBQ2pEcUgsT0FBUSxNQUNSTixRQUFTLENBQ1BPLGNBQWVuSixLQUFLb0osa0JBRXJCdkUsTUFBTUMsR0FDSEEsRUFBSTRFLEdBQ0M1RSxFQUFJNkUsT0FFTnpCLFFBQVEwQixPQUFRLFdBQVU5RSxFQUFJK0UsWUF6SHZDLEtBNkhGekcsV0FBY3ZCLEdBQ0xtSCxNQUFPLEdBQUVoSixLQUFLaUosd0JBQXdCcEgsSUFBTSxDQUNqRHFILE9BQVEsU0FDUk4sUUFBUyxDQUNQTyxjQUFlbkosS0FBS29KLGtCQUVyQnZFLE1BQU1DLEdBQ0hBLEVBQUk0RSxHQUNDNUUsRUFBSTZFLE9BRU56QixRQUFRMEIsT0FBUSxXQUFVOUUsRUFBSStFLFlBdEl2QzdKLEtBQUtpSixTQUFXTixFQUNoQjNJLEtBQUtvSixlQUFpQlIsRUFBUU8sY0FDOUJuSixLQUFLcUosYUFBZVQsRUFBUSxnQkFDNUI1SSxLQUFLOEksdUJBQXlCcEIsRUFDOUIxSCxLQUFLZ0ssc0JBQXdCbkMsRUFDN0I3SCxLQUFLK0oseUJBQTJCakMsRUFDaEM5SCxLQUFLaUssZUFBaUI3QyxFQUN0QnBILEtBQUsrSSxxQkFBdUIxQixFQUc5QjZDLGtCQUNFLE9BQU9sQixNQUFPLEdBQUVoSixLQUFLaUosaUJBQWtCLENBQ3JDTCxRQUFTLENBQ1BPLGNBQWVuSixLQUFLb0osa0JBRXJCdkUsTUFBTUMsR0FDSEEsRUFBSTRFLEdBQ0M1RSxFQUFJNkUsT0FFTnpCLFFBQVEwQixPQUFRLFdBQVU5RSxFQUFJK0UsWUFJekNNLGNBQ0UsT0FBT25CLE1BQU8sR0FBRWhKLEtBQUtpSixvQkFBcUIsQ0FDeENMLFFBQVMsQ0FDUE8sY0FBZW5KLEtBQUtvSixrQkFFckJ2RSxNQUFNQyxHQUNIQSxFQUFJNEUsR0FDQzVFLEVBQUk2RSxPQUVOekIsUUFBUTBCLE9BQVEsV0FBVTlFLEVBQUkrRSxZQUl6Q08sY0FBYSxLQUFFMUgsRUFBRixNQUFRMkgsSUFFbkIsT0FEQXJLLEtBQUs4SSx3QkFBdUIsRUFBTTlJLEtBQUtpSyxnQkFDaENqQixNQUFPLEdBQUVoSixLQUFLaUosb0JBQXFCLENBQ3hDQyxPQUFRLFFBQ1JOLFFBQVMsQ0FDUE8sY0FBZW5KLEtBQUtvSixlQUNwQixlQUFnQnBKLEtBQUtxSixjQUV2QkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQjlHLEtBQU1BLEVBQ04ySCxNQUFPQSxNQUVSeEYsTUFBTUMsR0FDSEEsRUFBSTRFLEdBQ0M1RSxFQUFJNkUsT0FFTnpCLFFBQVEwQixPQUFRLFdBQVU5RSxFQUFJK0UsWUFJekNTLGFBQVksS0FBRTVILEVBQUYsS0FBUUMsSUFFbEIsT0FEQTNDLEtBQUtnSyx1QkFBc0IsR0FDcEJoQixNQUFPLEdBQUVoSixLQUFLaUosaUJBQWtCLENBQ3JDQyxPQUFRLE9BQ1JOLFFBQVMsQ0FDUE8sY0FBZW5KLEtBQUtvSixlQUNwQixlQUFnQnBKLEtBQUtxSixjQUV2QkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQjlHLEtBQU1BLEVBQ05DLEtBQU1BLE1BRVBrQyxNQUFNQyxHQUNIQSxFQUFJNEUsR0FDQzVFLEVBQUk2RSxPQUVOekIsUUFBUTBCLE9BQVEsV0FBVTlFLEVBQUkrRSxjRGxEekMsQ0FDRWxCLFFBQVMsOENBQ1RDLFFBQVMsQ0FDUE8sY0FBZSx1Q0FDZixlQUFnQixxQkFHcEJ6QixFQUNBRyxFQUNBQyxFQUNBVixFQUNBQyxHQUdJa0QsRUFBWSxJRTVDSCxNQUNiM0ssYUFBWSxTQUFFNEssR0FBWUMsR0FDeEJ6SyxLQUFLMEssVUFBWUYsRUFDakJ4SyxLQUFLMkssV0FBYTFKLFNBQVNDLGNBQWN1SixHQUczQ0csWUFBWUMsR0FDVkEsRUFBTW5LLFNBQVNvSyxHQUFTOUssS0FBSzBLLFVBQVVJLEtBR3pDQyxXQUFXQyxHQUNUaEwsS0FBSzJLLFdBQVdNLE9BQU9ELEdBR3pCRSxZQUFZRixHQUNWaEwsS0FBSzJLLFdBQVdRLFFBQVFILEtGOEIxQixDQUNFUixTQUFXTSxJQUNULE1BQU1NLEVBQU9DLEVBQVdQLEdBQ3hCUCxFQUFVUSxXQUFXSyxFQUFLL0Ysa0JBRzlCLFVBR0ZxRCxFQUNHd0Isa0JBQ0FyRixNQUFNQyxJQUNMeUYsRUFBVUssWUFBWTlGLE1BRXZCSSxPQUFPQyxJQUNOOUIsRUFBaUI4QixNQUdyQnVELEVBQ0d5QixjQUNBdEYsTUFBTUMsSUFDTHdELEVBQVN4RCxFQUFJakMsSUFDYnlJLEVBQVNDLFlBQVl6RyxNQUV0QkksT0FBT0MsSUFDTjlCLEVBQWlCOEIsTUFHckIsTUFBTXFHLEVBQWUsSUFBSXBGLEVBQ3ZCLENBQ0VDLFdBQWF5RSxJQUNYcEMsRUFDRzRCLFlBQVlRLEdBQ1pqRyxNQUFNQyxJQUNMLE1BQU1zRyxFQUFPQyxFQUFXdkcsR0FDeEJ5RixFQUFVVyxZQUFZRSxFQUFLL0YsbUJBRTVCSCxPQUFPQyxJQUNOOUIsRUFBaUI4QixNQUVsQnNHLFNBQVEsS0FDUDVELEdBQXFCLEdBQ3JCMkQsRUFBYTdGLGtCQUlyQixrQkFDQTZDLEVBQWFoSSxzQkFHZixTQUFTNkssRUFBV3hMLEdBQ2xCLE9BQU8sSUFBSTRDLEVBQ1Q1QyxFQUNBLFlBQ0F5SSxFQUNBb0QsRUFBZTFGLFVBQ2YyRixFQUFnQjNGLFVBQ2hCMEMsRUFBSXZGLFlBQ0p1RixFQUFJdEYsV0FDSkMsR0FLSixNQUFNdUksRUFBZ0IsSUFBSXhGLEVBQ3hCLENBQ0VDLFdBQWF5RSxJQUNYcEMsRUFDRzBCLGFBQWFVLEdBQ2JqRyxNQUFNQyxJQUNMd0csRUFBU0MsWUFBWXpHLE1BRXRCSSxPQUFPQyxJQUNOOUIsRUFBaUI4QixNQUVsQnNHLFNBQVEsS0FDUC9ELEdBQXNCLEVBQU9OLEdBQzdCd0UsRUFBY2pHLGtCQUl0QixtQkFDQTRDLEVBQWMvSCxzQkFHVnFMLEVBQWtCLElBQUl6RixFQUMxQixDQUNFQyxXQUFheUUsSUFDWHBDLEVBQ0dHLFlBQVlpQyxFQUFLbkksTUFDakJrQyxNQUFNQyxJQUNMd0csRUFBU0MsWUFBWXpHLE1BRXRCSSxPQUFPQyxJQUNOOUIsRUFBaUI4QixNQUVsQnNHLFNBQVEsS0FDUEksRUFBZ0JsRyxhQUNoQitCLEdBQXNCLEVBQU9MLFFBSXJDLHFCQUNBb0IsRUFBZ0JqSSxzQkFHWmtMLEVBQWlCLElHdEpSLGNBQTZCakcsRUFDMUM3RixZQUFZOEYsR0FDVlksTUFBTVosR0FEVyxLQU1uQk0sVUFBWSxDQUFDckQsRUFBTUQsS0FDakI0RCxNQUFNTixZQUNOaEcsS0FBS3VELE9BQU8rQixJQUFNM0MsRUFDbEIzQyxLQUFLOEwsTUFBTS9LLFlBQWMyQixFQUN6QjFDLEtBQUt1RCxPQUFPZ0MsSUFBTTdDLEdBUmxCMUMsS0FBS3VELE9BQVN2RCxLQUFLNEYsT0FBTzFFLGNBQWMsaUJBQ3hDbEIsS0FBSzhMLE1BQVE5TCxLQUFLNEYsT0FBTzFFLGNBQWMseUJIa0pELG1CQUVwQ3lLLEVBQWtCLElJeEpULGNBQThCbEcsRUFDM0M3RixZQUNFOEYsRUFDQXFHLEVBQ0FqRSxFQUNBekUsR0FFQWlELE1BQU1aLEdBRE4sS0FxQkZTLGtCQUFvQixLQUNsQkcsTUFBTUgsb0JBQ05uRyxLQUFLZ00sY0FBYzNKLGlCQUFpQixTQUFTLEtBQzNDckMsS0FBS2lNLGtCQXhCUCxLQTRCRmpHLFVBQVksQ0FBQ29GLEVBQU12SixLQUNqQnlFLE1BQU1OLFlBQ05oRyxLQUFLa00sTUFBUWQsRUFDYnBMLEtBQUs2QyxJQUFNaEIsR0E3Qlg3QixLQUFLbU0sa0JBQW9CSixFQUN6Qi9MLEtBQUtnTSxjQUFnQmhNLEtBQUs0RixPQUFPMUUsY0FBYyxrQkFDL0NsQixLQUFLK0oseUJBQTJCakMsRUFDaEM5SCxLQUFLZ0Usa0JBQW9CWCxFQUczQjRJLGNBQ0VqTSxLQUFLK0osMEJBQXlCLEdBQzlCL0osS0FBS21NLGtCQUFrQm5NLEtBQUs2QyxLQUN6QnFDLE9BQU9DLElBQ05uRixLQUFLZ0Usa0JBQWtCbUIsTUFFeEJzRyxTQUFRLEtBQ1B6TCxLQUFLK0osMEJBQXlCLEdBQzlCL0osS0FBS2tNLE1BQU0zTCxTQUNYUCxLQUFLMkYsa0JKa0lYLHFCQUNBK0MsRUFBSW9CLFdBQ0poQyxFQUNBekUsR0FJSWlJLEVBQVcsSUtsS0YsTUFDYjFMLGFBQWM4QyxPQUFNMkgsUUFBT1osV0FBVSxLQU1yQ1UsWUFBYyxLQUNabkssS0FBS29NLGVBQWlCLEdBQ3RCcE0sS0FBS29NLGVBQWUxSixLQUFPMUMsS0FBS3FNLGFBQWF0TCxZQUM3Q2YsS0FBS29NLGVBQWUvQixNQUFRckssS0FBS3NNLGNBQWN2TCxZQUN4Q2YsS0FBS29NLGdCQVZ1QixLQWFyQ2IsWUFBYyxFQUFHN0ksT0FBTTJILFFBQU9aLGFBQzVCekosS0FBS3FNLGFBQWF0TCxZQUFjMkIsRUFDaEMxQyxLQUFLc00sY0FBY3ZMLFlBQWNzSixFQUNqQ3JLLEtBQUt1TSxlQUFlQyxNQUFNQyxnQkFBbUIsT0FBTWhELE1BZm5EekosS0FBS3FNLGFBQWVwTCxTQUFTQyxjQUFjd0IsR0FDM0MxQyxLQUFLc00sY0FBZ0JyTCxTQUFTQyxjQUFjbUosR0FDNUNySyxLQUFLdU0sZUFBaUJ0TCxTQUFTQyxjQUFjdUksS0w4Sm5CLENBQzVCL0csS0FBTSxpQkFDTjJILE1BQU8scUJBQ1BaLE9BQVEscUJBR1ZtQyxFQUFjekYsb0JBQ2RxRixFQUFhckYsb0JBQ2J1RixFQUFldkYsb0JBQ2Z3RixFQUFnQnhGLG9CQUNoQjBGLEVBQWdCMUYsb0JBRWhCb0MsRUFBYy9GLG1CQUNkZ0csRUFBYWhHLG1CQUNiaUcsRUFBZ0JqRyxtQkFFaEJ5RSxFQUFXNUUsaUJBQWlCLFNBQVMsS0FDbkN1SixFQUFjakYsdUJBQXVCMkUsRUFBU25CLGVBQzlDNUIsRUFBYy9ILHVCQUNkK0gsRUFBY3hJLGlCQUNkNkwsRUFBYzVGLGVBR2hCa0IsRUFBVTdFLGlCQUFpQixTQUFTLEtBQ2xDbUcsRUFBYWhJLHVCQUNiZ0ksRUFBYWxHLHFCQUNia0csRUFBYXpJLGlCQUNieUwsRUFBYXhGLGVBRWZtQixFQUFjOUUsaUJBQWlCLFNBQVMsS0FDdENvRyxFQUFnQm5HLHFCQUNoQm1HLEVBQWdCakksdUJBQ2hCaUksRUFBZ0IxSSxpQkFDaEI4TCxFQUFnQjdGLGdCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDQutC70LDRgdGBINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgZm9ybVtuYW1lPSR7Zm9ybX1dYCk7XHJcbiAgICB0aGlzLl9pbnB1dCA9IGRhdGEuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbiA9IGRhdGEuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3IgPSBkYXRhLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9ycyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChkYXRhLmVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dCldO1xyXG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvbik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0Vycm9yKGlucHV0KSB7XHJcbiAgICB0aGlzLl9lcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICB0aGlzLl9lcnJvci50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yKTtcclxuICB9XHJcblxyXG4gIF9oaWRlRXJyb3IoaW5wdXQpIHtcclxuICAgIHRoaXMuX2Vycm9yID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIHRoaXMuX2Vycm9yLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvcik7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEJ1dHRvblN0YXRlID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLl9jaGVja0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uKTtcclxuICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbik7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuc2V0QnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0ZUlucHV0c1ZhbHVlcygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRpdHlNYXNzYWdlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvcik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2Vycm9ycy5mb3JFYWNoKChlcnJvcikgPT4ge1xyXG4gICAgICBlcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgdGhpcy5zZXRCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxufVxyXG4iLCIvLyDQutC70LDRgdGBINGN0LvQtdC80LXQvdGC0LAg0LrQsNGA0YLQvtGH0LrQuFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgbmFtZSwgbGluaywgbGlrZXMsIF9pZCwgb3duZXIgfSxcclxuICAgIHRlbXBsYXRlLFxyXG4gICAgbXlJZCxcclxuICAgIG9wZW5Qb3B1cFZpZXcsXHJcbiAgICBvcGVuUG9wdXBEZWxldGUsXHJcbiAgICBwdXRMaWtlQ2FyZCxcclxuICAgIGRlbGV0ZUxpa2UsXHJcbiAgICBzaG93RXJyb3JNYXNzYWdlXHJcbiAgKSB7XHJcbiAgICB0aGlzLl90aXRsZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGxpbms7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuX293bmVyID0gb3duZXI7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGUpO1xyXG4gICAgdGhpcy5fb3BlblBvcHVwVmlldyA9IG9wZW5Qb3B1cFZpZXc7XHJcbiAgICB0aGlzLl9vcGVuUG9wdXBEZWxldGUgPSBvcGVuUG9wdXBEZWxldGU7XHJcbiAgICB0aGlzLl9wdXRMaWtlQ2FyZCA9IHB1dExpa2VDYXJkO1xyXG4gICAgdGhpcy5fZGVsZXRlTGlrZSA9IGRlbGV0ZUxpa2U7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5fbXlJZCA9IG15SWQ7XHJcbiAgICB0aGlzLl9zaG93RXJyb3JNYXNzYWdlID0gc2hvd0Vycm9yTWFzc2FnZTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fZWxlbWVudERlc2MgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbmFtZVwiKTtcclxuICAgIHRoaXMuX2VsZW1lbnRCdG5EZWxldGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuX3R5cGVfZGVsZXRlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1jb3VudGVyXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpLmNsb25lTm9kZSh0cnVlKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVMaWtlVGhlQ2FyZChldnQsIGlkKSB7XHJcbiAgICBpZiAodGhpcy5fY2hlY2tNeUxpa2UoKSkge1xyXG4gICAgICB0aGlzLl9kZWxldGVMaWtlKGlkKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2xpa2VzID0gcmVzLmxpa2VzO1xyXG4gICAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fc2hvd0Vycm9yTWFzc2FnZShlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcHV0TGlrZUNhcmQoaWQpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fbGlrZXMgPSByZXMubGlrZXM7XHJcbiAgICAgICAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9zaG93RXJyb3JNYXNzYWdlKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2hlY2tNeUxpa2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgob2JqKSA9PiB7XHJcbiAgICAgIHJldHVybiBvYmouX2lkID09PSB0aGlzLl9teUlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2Uuc3JjID0gdGhpcy5faW1hZ2U7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWx0ID0gdGhpcy5fdGl0bGU7XHJcbiAgICB0aGlzLl9lbGVtZW50RGVzYy50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgaWYgKHRoaXMuX293bmVyLl9pZCA9PT0gdGhpcy5fbXlJZCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50QnRuRGVsZXRlLmNsYXNzTGlzdC5hZGQoXCJidG5fdmlzaWJsZVwiKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLl9jaGVja015TGlrZSgpKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5fb3BlblBvcHVwVmlldyh0aGlzLl9pbWFnZSwgdGhpcy5fdGl0bGUpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUxpa2VUaGVDYXJkKGV2dCwgdGhpcy5faWQsIHRoaXMuX2xpa2VzKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZWxlbWVudEJ0bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9vcGVuUG9wdXBEZWxldGUodGhpcy5fZWxlbWVudCwgdGhpcy5faWQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8v0L7QsdGJ0LjQuSDQutC70LDRgdGBINC00LvRjyDQv9C+0L/QsNC/0L7QslxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cCk7XHJcbiAgfVxyXG5cclxuICBvcGVuUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VCeUVzY2FwZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlQnlFc2NhcGUpO1xyXG4gIH07XHJcblxyXG4gIF9jbG9zZUJ5RXNjYXBlID0gKGV2dCkgPT4ge1xyXG4gICAgY29uc3QgZXNjYXBlQ29kZSA9IDI3O1xyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSBlc2NhcGVDb2RlKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9jbG9zZUJ5Q2xpY2soZXZ0KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0O1xyXG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmJ0bl90eXBlX2Nsb3NlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZVBvcHVwKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4gdGhpcy5fY2xvc2VCeUNsaWNrKGV2dCkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuLy/QutC70LDRgdGBINC/0L7Qv9Cw0L/QvtCyINGBINGE0L7RgNC80L7QuVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgc3VibWl0Rm9ybSB9LCBwb3B1cCwgcmVzZXRWYWxpZGl0eU1hc3NhZ2UpIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9yZXNldFZhbGlkaXR5TWFzc2FnZSA9IHJlc2V0VmFsaWRpdHlNYXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHNldEluaXRpYWxJbnB1dHNWYWx1ZXModmFsdWVzKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaWYgKHZhbHVlc1tpbnB1dC5uYW1lXSkge1xyXG4gICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWVzW2lucHV0Lm5hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKFxyXG4gICAgICAoaW5wdXQpID0+ICh0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHN1cGVyLmNsb3NlUG9wdXAoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIHRoaXMuX3Jlc2V0VmFsaWRpdHlNYXNzYWdlKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCB7XHJcbiAgYnV0dG9uRWRpdCxcclxuICBidXR0b25BZGQsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIGJ0blN1Ym1pdEVkaXQsXHJcbiAgYnRuU3VibWl0QWRkLFxyXG4gIGJ0blN1Ym1pdERlbGV0ZSxcclxuICBidG5TdWJtaXRFZGl0QXZhdGFyLFxyXG4gIGVycm9yVGVtcGxhdGUsXHJcbiAgZXJyb3JzQ29udGFpbmVyLFxyXG59O1xyXG5cclxuLy8g0LrQvtC90YTQuNCzINC00LvRjyDQutC70LDRgdGB0LAg0LLQsNC70LjQtNCw0YbQuNC4XHJcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCIucG9wdXBfX2Vycm9yXCIsXHJcbn07XHJcblxyXG5jb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG5fdHlwZV9lZGl0XCIpOyAvLyDQutC90L7Qv9C60LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0L/RgNC+0YTQuNC70YxcclxuY29uc3QgYnV0dG9uQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG5fdHlwZV9hZGRcIik7IC8vINC60L3QvtC/0LrQsCDQtNC+0LHQsNCy0LjRgtGMINC60LDRgNGC0L7Rh9C60YNcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5jb25zdCBidG5TdWJtaXRFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uX3R5cGVfZWRpdFwiKTtcclxuY29uc3QgYnRuU3VibWl0RWRpdEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2J1dHRvbl90eXBlX2VkaXQtYXZhdGFyXCJcclxuKTtcclxuY29uc3QgYnRuU3VibWl0QWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uX3R5cGVfYWRkXCIpO1xyXG5jb25zdCBidG5TdWJtaXREZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25fdHlwZV9kZWxldGVcIik7XHJcbmNvbnN0IGVycm9yVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yX190ZW1wbGF0ZVwiKTtcclxuY29uc3QgZXJyb3JzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvcnNcIik7XHJcbiIsImltcG9ydCB7XHJcbiAgYnRuU3VibWl0QWRkLFxyXG4gIGJ0blN1Ym1pdERlbGV0ZSxcclxuICBlcnJvclRlbXBsYXRlLFxyXG4gIGVycm9yc0NvbnRhaW5lcixcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5leHBvcnQge1xyXG4gIHJlbmRlckxvYWRUZXh0QnRuRWRpdCxcclxuICByZW5kZXJMb2FkVGV4dEJ0bkFkZCxcclxuICByZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZSxcclxuICBzaG93RXJyb3JNYXNzYWdlLFxyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyTG9hZFRleHRCdG5FZGl0KGlzTG9hZGluZywgYnRuKSB7XHJcbiAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgYnRuLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidG4udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyTG9hZFRleHRCdG5BZGQoaXNMb2FkaW5nKSB7XHJcbiAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgYnRuU3VibWl0QWRkLnRleHRDb250ZW50ID0gXCLQodC+0LfQtNCw0L3QuNC1Li4uXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ0blN1Ym1pdEFkZC50ZXh0Q29udGVudCA9IFwi0KHQvtC30LTQsNGC0YxcIjtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckxvYWRUZXh0QnRuRGVsZXRlKGlzTG9hZGluZykge1xyXG4gIGlmIChpc0xvYWRpbmcpIHtcclxuICAgIGJ0blN1Ym1pdERlbGV0ZS50ZXh0Q29udGVudCA9IFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidG5TdWJtaXREZWxldGUudGV4dENvbnRlbnQgPSBcItCU0LBcIjtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRlbXBsYXRlRXJyb3IoKSB7XHJcbiAgcmV0dXJuIGVycm9yVGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yXCIpLmNsb25lTm9kZSh0cnVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRXJyb3JFbGVtZW50KGVycikge1xyXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGdldFRlbXBsYXRlRXJyb3IoKTtcclxuICBlcnJvckVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiLmVycm9yX19tYXNzYWdlXCJcclxuICApLnRleHRDb250ZW50ID0gYCR7ZXJyfS4g0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQuiA6KGA7XHJcbiAgcmV0dXJuIGVycm9yRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZUVycm9yTWFzc2FnZShlcnIpIHtcclxuICBlcnIuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0Vycm9yTWFzc2FnZShlcnIpIHtcclxuICBjb25zdCBlcnJFbGVtID0gY3JlYXRlRXJyb3JFbGVtZW50KGVycik7XHJcbiAgZXJyb3JzQ29udGFpbmVyLnByZXBlbmQoZXJyRWxlbSk7XHJcbiAgbmV3IFByb21pc2UoKHJlcykgPT4ge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGVyckVsZW0uY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgICAgcmVzKGVyckVsZW0pO1xyXG4gICAgfSwgMCk7XHJcbiAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBoaWRlRXJyb3JNYXNzYWdlKHJlcyk7XHJcbiAgICAgICAgICByZXNvbHZlKHJlcyk7XHJcbiAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgcmVzLnJlbW92ZSgpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH0pO1xyXG59XHJcbiIsImltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjsgLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LxcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiOyAvLyDQuNC80L/QvtGA0YIg0LrQu9Cw0YHRgdCwINGN0LvQtdC80LXQvdGC0LAg0LrQsNGA0YLQvtGH0LrQuFxyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7IC8vINC40LzQv9C+0YDRgiDQutC70LDRgdGB0LAg0L7RgtGA0LjRgdC+0LLQutC4INGN0LvQtdC80LXQvdGC0L7QslxyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjsgLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/0LAg0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC4XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjsgLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQv9C+0LDQv9CwINGBINGE0L7RgNC80L7QuVxyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjsgLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDRg9C/0YDQsNCy0LvRj9GO0YnQtdCz0L4g0L7RgtC+0LHRgNCw0LbQtdC90LjQtdC8INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0YDQvtGE0LjQu9GPXHJcbmltcG9ydCBQb3B1cFdpdGhEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVuZGVyTG9hZFRleHRCdG5FZGl0LFxyXG4gIHJlbmRlckxvYWRUZXh0QnRuQWRkLFxyXG4gIHNob3dFcnJvck1hc3NhZ2UsXHJcbiAgcmVuZGVyTG9hZFRleHRCdG5EZWxldGUsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgYnV0dG9uRWRpdCxcclxuICBidXR0b25BZGQsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIGJ0blN1Ym1pdEVkaXQsXHJcbiAgYnRuU3VibWl0RWRpdEF2YXRhcixcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7IC8v0LjQvNC/0L7RgNGCIERPTSDRjdC70LXQvNC10L3RgtC+0LIg0YHRgtGA0LDQvdC40YbRi1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcbmNvbnN0IHZhbGlkYXRvckVkaXQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBcImVkaXQtcHJvZmlsZVwiKTsgLy/QstC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCB2YWxpZGF0b3JBZGQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBcImFkZC1uZXctY2FyZFwiKTsgLy8g0LLQutC70Y7Rh9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCB2YWxpZGF0b3JBdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBcImNoYW5nZS1hdmF0YXJcIik7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKFxyXG4gIHtcclxuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yMFwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiBcIjc5YWNjZjhmLWNjNzYtNDAzMy04NGY5LTJkMWQ4MWMzMDE1N1wiLFxyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH0sXHJcbiAgfSxcclxuICByZW5kZXJMb2FkVGV4dEJ0bkVkaXQsXHJcbiAgcmVuZGVyTG9hZFRleHRCdG5BZGQsXHJcbiAgcmVuZGVyTG9hZFRleHRCdG5EZWxldGUsXHJcbiAgYnRuU3VibWl0RWRpdCxcclxuICBidG5TdWJtaXRFZGl0QXZhdGFyXHJcbik7XHJcblxyXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XHJcbiAgICAgIGNhcmRzTGlzdC5hcHBlbmRJdGVtKGNhcmQuZ2VuZXJhdGVDYXJkKCkpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmNhcmRzXCJcclxuKTtcclxuLy/QuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvdCw0YfQsNC70YzQvdC+0LPQviDRgdC/0LjRgdC60LAg0LrQsNGA0YLQvtGH0LXQulxyXG5hcGlcclxuICAuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXMocmVzKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBzaG93RXJyb3JNYXNzYWdlKGVycik7XHJcbiAgfSk7XHJcbi8v0L/QvtC70YPRh9C10L3QuNC1INC4INGD0YHRgtCw0L3QvtCy0LrQsCDQvdCw0YfQsNC70YzQvdC+0Lkg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgdXNlcklkID0gcmVzLl9pZDtcclxuICAgIHVzZXNJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgc2hvd0Vycm9yTWFzc2FnZShlcnIpO1xyXG4gIH0pO1xyXG5cclxuY29uc3QgcG9wdXBUeXBlQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAge1xyXG4gICAgc3VibWl0Rm9ybTogKGl0ZW0pID0+IHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLnBvc3ROZXdDYXJkKGl0ZW0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQocmVzKTtcclxuICAgICAgICAgIGNhcmRzTGlzdC5wcmVwZW5kSXRlbShjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBzaG93RXJyb3JNYXNzYWdlKGVycik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICByZW5kZXJMb2FkVGV4dEJ0bkFkZChmYWxzZSk7XHJcbiAgICAgICAgICBwb3B1cFR5cGVBZGQuY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLnBvcHVwX3R5cGVfYWRkXCIsXHJcbiAgdmFsaWRhdG9yQWRkLnJlc2V0VmFsaWRpdHlNYXNzYWdlXHJcbik7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcclxuICByZXR1cm4gbmV3IENhcmQoXHJcbiAgICBkYXRhLFxyXG4gICAgXCIudGVtcGxhdGVcIixcclxuICAgIHVzZXJJZCxcclxuICAgIHBvcHVwVHlwZUltYWdlLm9wZW5Qb3B1cCxcclxuICAgIHBvcHVwVHlwZURlbGV0ZS5vcGVuUG9wdXAsXHJcbiAgICBhcGkucHV0TGlrZUNhcmQsXHJcbiAgICBhcGkuZGVsZXRlTGlrZSxcclxuICAgIHNob3dFcnJvck1hc3NhZ2VcclxuICApO1xyXG59XHJcblxyXG4vL9C40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHBvcHVwVHlwZUVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICB7XHJcbiAgICBzdWJtaXRGb3JtOiAoaXRlbSkgPT4ge1xyXG4gICAgICBhcGlcclxuICAgICAgICAucGF0aFVzZXJJbmZvKGl0ZW0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgdXNlc0luZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBzaG93RXJyb3JNYXNzYWdlKGVycik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICByZW5kZXJMb2FkVGV4dEJ0bkVkaXQoZmFsc2UsIGJ0blN1Ym1pdEVkaXQpO1xyXG4gICAgICAgICAgcG9wdXBUeXBlRWRpdC5jbG9zZVBvcHVwKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgXCIucG9wdXBfdHlwZV9lZGl0XCIsXHJcbiAgdmFsaWRhdG9yRWRpdC5yZXNldFZhbGlkaXR5TWFzc2FnZVxyXG4pO1xyXG4vL9C40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgcG9wdXBUeXBlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAge1xyXG4gICAgc3VibWl0Rm9ybTogKGl0ZW0pID0+IHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLnBhdGNoQXZhdGFyKGl0ZW0ubGluaylcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICB1c2VzSW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIHNob3dFcnJvck1hc3NhZ2UoZXJyKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgIHBvcHVwVHlwZUF2YXRhci5jbG9zZVBvcHVwKCk7XHJcbiAgICAgICAgICByZW5kZXJMb2FkVGV4dEJ0bkVkaXQoZmFsc2UsIGJ0blN1Ym1pdEVkaXRBdmF0YXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsXHJcbiAgdmFsaWRhdG9yQXZhdGFyLnJlc2V0VmFsaWRpdHlNYXNzYWdlXHJcbik7XHJcbi8v0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0L/QvtC/0LDQv9CwINGD0LLQtdC70LjRh9C10L3QvdC+0Lkg0LrQsNGA0YLQuNC90LrQuFxyXG5jb25zdCBwb3B1cFR5cGVJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltZ1wiKTtcclxuXHJcbmNvbnN0IHBvcHVwVHlwZURlbGV0ZSA9IG5ldyBQb3B1cFdpdGhEZWxldGUoXHJcbiAgXCIucG9wdXBfdHlwZV9kZWxldGVcIixcclxuICBhcGkuZGVsZXRlQ2FyZCxcclxuICByZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZSxcclxuICBzaG93RXJyb3JNYXNzYWdlXHJcbik7XHJcblxyXG4vL9C40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGD0L/RgNCw0LLQu9C10L3QuNGPINC40L3RhNC+0YDQsNGG0LjQtdC5INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHVzZXNJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgYWJvdXQ6IFwiLnByb2ZpbGVfX2Fib3V0LW1lXCIsXHJcbiAgYXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcblxyXG5wb3B1cFR5cGVFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwVHlwZUFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFR5cGVJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFR5cGVEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBUeXBlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG52YWxpZGF0b3JFZGl0LmVuYWJsZVZhbGlkYXRpb24oKTtcclxudmFsaWRhdG9yQWRkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxudmFsaWRhdG9yQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cFR5cGVFZGl0LnNldEluaXRpYWxJbnB1dHNWYWx1ZXModXNlc0luZm8uZ2V0VXNlckluZm8oKSk7XHJcbiAgdmFsaWRhdG9yRWRpdC5yZXNldFZhbGlkaXR5TWFzc2FnZSgpO1xyXG4gIHZhbGlkYXRvckVkaXQuc2V0QnV0dG9uU3RhdGUoKTtcclxuICBwb3B1cFR5cGVFZGl0Lm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHZhbGlkYXRvckFkZC5yZXNldFZhbGlkaXR5TWFzc2FnZSgpO1xyXG4gIHZhbGlkYXRvckFkZC5yZXNldGVJbnB1dHNWYWx1ZXMoKTtcclxuICB2YWxpZGF0b3JBZGQuc2V0QnV0dG9uU3RhdGUoKTtcclxuICBwb3B1cFR5cGVBZGQub3BlblBvcHVwKCk7XHJcbn0pO1xyXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgdmFsaWRhdG9yQXZhdGFyLnJlc2V0ZUlucHV0c1ZhbHVlcygpO1xyXG4gIHZhbGlkYXRvckF2YXRhci5yZXNldFZhbGlkaXR5TWFzc2FnZSgpO1xyXG4gIHZhbGlkYXRvckF2YXRhci5zZXRCdXR0b25TdGF0ZSgpO1xyXG4gIHBvcHVwVHlwZUF2YXRhci5vcGVuUG9wdXAoKTtcclxufSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IGJhc2VVcmwsIGhlYWRlcnMgfSxcclxuICAgIHJlbmRlckxvYWRUZXh0QnRuRWRpdCxcclxuICAgIHJlbmRlckxvYWRUZXh0QnRuQWRkLFxyXG4gICAgcmVuZGVyTG9hZFRleHRCdG5EZWxldGUsXHJcbiAgICBidG5TdWJtaXRFZGl0LFxyXG4gICAgYnRuU3VibWl0RWRpdEF2YXRhclxyXG4gICkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uID0gaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG4gICAgdGhpcy5fY29udGVudFR5cGUgPSBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdO1xyXG4gICAgdGhpcy5fcmVuZGVyTG9hZFRleHRCdG5FZGl0ID0gcmVuZGVyTG9hZFRleHRCdG5FZGl0O1xyXG4gICAgdGhpcy5fcmVuZGVyTG9hZFRleHRCdG5BZGQgPSByZW5kZXJMb2FkVGV4dEJ0bkFkZDtcclxuICAgIHRoaXMuX3JlbmRlckxvYWRUZXh0QnRuRGVsZXRlID0gcmVuZGVyTG9hZFRleHRCdG5EZWxldGU7XHJcbiAgICB0aGlzLl9idG5TdWJtaXRFZGl0ID0gYnRuU3VibWl0RWRpdDtcclxuICAgIHRoaXMuX2J0blN1Ym1pdEVkaXRBdmF0YXIgPSBidG5TdWJtaXRFZGl0QXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwYXRoVXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICB0aGlzLl9yZW5kZXJMb2FkVGV4dEJ0bkVkaXQodHJ1ZSwgdGhpcy5fYnRuU3VibWl0RWRpdCk7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcG9zdE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3JlbmRlckxvYWRUZXh0QnRuQWRkKHRydWUpO1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBhdGNoQXZhdGFyID0gKGxpbmspID0+IHtcclxuICAgIHRoaXMuX3JlbmRlckxvYWRUZXh0QnRuRWRpdCh0cnVlLCB0aGlzLl9idG5TdWJtaXRFZGl0QXZhdGFyKTtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBkZWxldGVDYXJkID0gKGlkKSA9PiB7XHJcbiAgICB0aGlzLl9yZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZSh0cnVlKTtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcHV0TGlrZUNhcmQgPSAoaWQpID0+IHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGRlbGV0ZUxpa2UgPSAoaWQpID0+IHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIiwiLy/QutC70LDRgdGBINCz0LXQvdC10YDQsNGG0LjQuCDRgdC10LrRhtC40LhcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHByZXBlbmRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuLy/QutC70LDRgdGBINC/0L7Qv9Cw0L/QsCDRg9Cy0LXQu9C40YfQtdC90L3QvtCz0L4g0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2Rlc2MgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19kZXNjcmlwdGlvblwiKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cCA9IChsaW5rLCBuYW1lKSA9PiB7XHJcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9kZXNjLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHBvcHVwLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCxcclxuICAgIHJlbmRlckxvYWRUZXh0QnRuRGVsZXRlLFxyXG4gICAgc2hvd0Vycm9yTWFzc2FnZVxyXG4gICkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgICB0aGlzLl9idXR0b25EZWxldGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgICB0aGlzLl9yZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZSA9IHJlbmRlckxvYWRUZXh0QnRuRGVsZXRlO1xyXG4gICAgdGhpcy5fc2hvd0Vycm9yTWFzc2FnZSA9IHNob3dFcnJvck1hc3NhZ2U7XHJcbiAgfVxyXG5cclxuICBfZGVsZXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX3JlbmRlckxvYWRUZXh0QnRuRGVsZXRlKHRydWUpO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9pZClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICB0aGlzLl9zaG93RXJyb3JNYXNzYWdlKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9idXR0b25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5fZGVsZXRlQ2FyZCgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgb3BlblBvcHVwID0gKGNhcmQsIGlkKSA9PiB7XHJcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcclxuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xyXG4gICAgdGhpcy5faWQgPSBpZDtcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xyXG4gICAgdGhpcy5fcHJvZmlsZUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9wcm9maWxlVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9wcm9maWxlVmFsdWVzLm5hbWUgPSB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX3Byb2ZpbGVWYWx1ZXMuYWJvdXQgPSB0aGlzLl9wcm9maWxlQWJvdXQudGV4dENvbnRlbnQ7XHJcbiAgICByZXR1cm4gdGhpcy5fcHJvZmlsZVZhbHVlcztcclxuICB9O1xyXG5cclxuICBzZXRVc2VySW5mbyA9ICh7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkgPT4ge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZUFib3V0LnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHthdmF0YXJ9KWA7XHJcbiAgfTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9