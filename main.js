(()=>{"use strict";class e{constructor(e,t){this.setButtonState=()=>{this._checkInvalidInput()?(this._button.classList.add(this._inactiveButton),this._button.disabled=!0):(this._button.classList.remove(this._inactiveButton),this._button.disabled=!1)},this.resetValidityMassage=()=>{this._inputList.forEach((e=>{e.classList.remove(this._inputError)})),this._errors.forEach((e=>{e.textContent=""}))},this._form=document.querySelector(`form[name=${t}]`),this._input=e.inputSelector,this._submitButton=e.submitButtonSelector,this._inactiveButton=e.inactiveButtonClass,this._inputError=e.inputErrorClass,this._errors=this._form.querySelectorAll(e.errorClass),this._inputList=[...this._form.querySelectorAll(this._input)],this._button=this._form.querySelector(this._submitButton)}_showError(e){this._error=this._form.querySelector(`#${e.id}-error`),this._error.textContent=e.validationMessage,e.classList.add(this._inputError)}_hideError(e){this._error=this._form.querySelector(`#${e.id}-error`),this._error.textContent="",e.classList.remove(this._inputError)}_checkInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_checkInputValidity(e){e.validity.valid?this._hideError(e):this._showError(e)}_setEventListener(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.setButtonState()}))}))}reseteInputsValues(){this._inputList.forEach((e=>{e.value=""}))}enableValidation(){this._setEventListener(),this.setButtonState()}}class t{constructor({name:e,link:t,likes:s,_id:i,owner:r},n,o,{handleImageClick:a,handleDeleteClick:h,handleLikeClick:l}){this._deleteTheLike=e=>{this._likes=e.likes,this._likeCounter.textContent=e.likes.length,this._likeButton.classList.remove("card__like_active")},this._addTheLike=e=>{this._likes=e.likes,this._likeCounter.textContent=e.likes.length,this._likeButton.classList.add("card__like_active")},this._checkMyLike=()=>this._likes.some((e=>e._id===this._myId)),this._title=e,this._image=t,this._id=i,this._owner=r,this._template=document.querySelector(n),this._likes=s,this._myId=o,this._handleImageClick=a,this._handleDeleteClick=h,this._handleLikeClick=l,this._element=this._getTemplate(),this._elementImage=this._element.querySelector(".card__image"),this._elementDesc=this._element.querySelector(".card__name"),this._elementBtnDelete=this._element.querySelector(".btn_type_delete"),this._likeButton=this._element.querySelector(".card__like"),this._likeCounter=this._element.querySelector(".card__like-counter")}_getTemplate(){return this._template.content.querySelector(".card").cloneNode(!0)}generateCard(){return this._elementImage.src=this._image,this._elementImage.alt=this._title,this._elementDesc.textContent=this._title,this._likeCounter.textContent=this._likes.length,this._setEventListeners(),this._owner._id===this._myId&&this._elementBtnDelete.classList.add("btn_visible"),this._checkMyLike()&&this._likeButton.classList.add("card__like_active"),this._element}_setEventListeners(){this._elementImage.addEventListener("click",(()=>{this._handleImageClick(this._image,this._title)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this._checkMyLike(),this._id,this._deleteTheLike,this._addTheLike)})),this._elementBtnDelete.addEventListener("click",(()=>{this._handleDeleteClick(this._element,this._id)}))}}class s{constructor(e){this.closePopup=()=>{this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._closeByEscape)},this._closeByEscape=e=>{"Escape"==e.key&&this.closePopup()},this._popup=document.querySelector(e)}openPopup(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._closeByEscape)}_closeByClick(e){e.target.classList.contains("popup_opened")&&this.closePopup()}setEventListeners(){this._popup.querySelector(".btn_type_close").addEventListener("click",this.closePopup),this._popup.addEventListener("mousedown",(e=>this._closeByClick(e)))}}class i extends s{constructor({submitForm:e},t){super(t),this.setEventListeners=()=>{super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._submitForm(this._getInputValues())}))},this._submitForm=e,this._inputList=this._popup.querySelectorAll(".popup__input"),this._form=this._popup.querySelector(".popup__form")}setInitialInputsValues(e){this._inputList.forEach((t=>{e[t.name]&&(t.value=e[t.name])}))}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>this._formValues[e.name]=e.value)),this._formValues}}const r={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:".popup__error"},n=document.querySelector(".btn_type_edit"),o=document.querySelector(".btn_type_add"),a=document.querySelector(".profile__avatar"),h=document.querySelector(".popup__button_type_edit"),l=document.querySelector(".popup__button_type_edit-avatar"),_=document.querySelector(".popup__button_type_add"),u=document.querySelector(".popup__button_type_delete"),p=document.querySelector(".error__template"),c=document.querySelector(".errors");function d(e,t){t.textContent=e?"Сохранение...":"Сохранить"}function m(e){_.textContent=e?"Создание...":"Создать"}function y(e){u.textContent=e?"Удаление...":"Да"}function k(e){const t=function(e){const t=p.content.querySelector(".error").cloneNode(!0);return t.querySelector(".error__massage").textContent=`${e}. Что-то пошло не так :(`,t}(e);c.prepend(t),new Promise((e=>{setTimeout((()=>{t.classList.add("popup_opened"),e(t)}),0)})).then((e=>new Promise((t=>{setTimeout((()=>{!function(e){e.classList.remove("popup_opened")}(e),t(e)}),5e3)})))).then((e=>{setTimeout((()=>{e.remove()}),1e3)}))}let f;const v=new e(r,"edit-profile"),L=new e(r,"add-new-card"),b=new e(r,"change-avatar"),C=new class{constructor({baseUrl:e,headers:t},s,i,r,n,o){this.patchAvatar=e=>(this._renderLoadTextBtnEdit(!0,this._btnSubmitEditAvatar),fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":this._contentType},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))),this.deleteCard=e=>(this._renderLoadTextBtnDelete(!0),fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:{authorization:this._authorization}}).then((e=>e.ok?e:Promise.reject(`Ошибка: ${e.status}`)))),this.putLikeCard=e=>fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"PUT",headers:{authorization:this._authorization}}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`))),this.deleteLike=e=>fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"DELETE",headers:{authorization:this._authorization}}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`))),this._baseUrl=e,this._authorization=t.authorization,this._contentType=t["Content-Type"],this._renderLoadTextBtnEdit=s,this._renderLoadTextBtnAdd=i,this._renderLoadTextBtnDelete=r,this._btnSubmitEdit=n,this._btnSubmitEditAvatar=o}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:{authorization:this._authorization}}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:{authorization:this._authorization}}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))}pathUserInfo(e){return this._renderLoadTextBtnEdit(!0,this._btnSubmitEdit),fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":this._contentType},body:JSON.stringify(e)}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))}postNewCard(e){return this._renderLoadTextBtnAdd(!0),fetch(`${this._baseUrl}/cards`,{method:"POST",headers:{authorization:this._authorization,"Content-Type":this._contentType},body:JSON.stringify(e)}).then((e=>e.ok?e.json():Promise.reject(`Ошибка: ${e.status}`)))}}({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-20",headers:{authorization:"79accf8f-cc76-4033-84f9-2d1d81c30157","Content-Type":"application/json"}},d,m,y,h,l);Promise.all([C.getUserInfo(),C.getInitialCards()]).then((([e,t])=>{f=e._id,T.setUserInfo(e),E.renderItems(t)})).catch((e=>{k(e)}));const E=new class{constructor({renderer:e},t){this._renderer=e,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>this._renderer(e)))}appendItem(e){this._container.append(e)}prependItem(e){this._container.prepend(e)}}({renderer:e=>{const t=S(e);E.appendItem(t.generateCard())}},".cards"),S=e=>new t(e,".template",f,{handleImageClick:(e,t)=>{B.openPopup(e,t)},handleDeleteClick:(e,t)=>{P.openPopup(e,t)},handleLikeClick:(e,t,s,i)=>{e?C.deleteLike(t).then((e=>{s(e)})).catch((e=>{k(e)})):C.putLikeCard(t).then((e=>{i(e)})).catch((e=>{k(e)}))}}),g=new i({submitForm:e=>{C.postNewCard(e).then((e=>{const t=S(e);E.prependItem(t.generateCard())})).catch((e=>{k(e)})).finally((()=>{m(!1),g.closePopup()}))}},".popup_type_add"),I=new i({submitForm:e=>{C.pathUserInfo(e).then((e=>{T.setUserInfo(e)})).catch((e=>{k(e)})).finally((()=>{d(!1,h),I.closePopup()}))}},".popup_type_edit"),q=new i({submitForm:e=>{C.patchAvatar(e.link).then((e=>{T.setUserInfo(e)})).catch((e=>{k(e)})).finally((()=>{q.closePopup(),d(!1,l)}))}},".popup_type_avatar"),B=new class extends s{constructor(e){super(e),this.openPopup=(e,t)=>{super.openPopup(),this._image.src=e,this._desc.textContent=t,this._image.alt=t},this._image=this._popup.querySelector(".popup__image"),this._desc=this._popup.querySelector(".popup__description")}}(".popup_type_img"),P=new class extends s{constructor(e,{handleDeleteCard:t}){super(e),this.setEventListeners=()=>{super.setEventListeners(),this._buttonDelete.addEventListener("click",(()=>{this._handleDeleteCard(this._id,this._card)}))},this.openPopup=(e,t)=>{super.openPopup(),this._card=e,this._id=t},this._handleDeleteCard=t,this._buttonDelete=this._popup.querySelector(".popup__button")}}(".popup_type_delete",{handleDeleteCard:(e,t)=>{y(!0),C.deleteCard(e).catch((e=>{k(e)})).finally((()=>{y(!1),t.remove(),P.closePopup()}))}}),T=new class{constructor({name:e,about:t,avatar:s}){this.getUserInfo=()=>(this._profileValues={},this._profileValues.name=this._profileName.textContent,this._profileValues.about=this._profileAbout.textContent,this._profileValues),this.setUserInfo=({name:e,about:t,avatar:s})=>{this._profileName.textContent=e,this._profileAbout.textContent=t,this._profileAvatar.style.backgroundImage=`url(${s})`},this._profileName=document.querySelector(e),this._profileAbout=document.querySelector(t),this._profileAvatar=document.querySelector(s)}}({name:".profile__name",about:".profile__about-me",avatar:".profile__avatar"});I.setEventListeners(),g.setEventListeners(),B.setEventListeners(),P.setEventListeners(),q.setEventListeners(),v.enableValidation(),L.enableValidation(),b.enableValidation(),n.addEventListener("click",(()=>{I.setInitialInputsValues(T.getUserInfo()),v.resetValidityMassage(),v.setButtonState(),I.openPopup()})),o.addEventListener("click",(()=>{L.resetValidityMassage(),L.reseteInputsValues(),L.setButtonState(),g.openPopup()})),a.addEventListener("click",(()=>{b.reseteInputsValues(),b.resetValidityMassage(),b.setButtonState(),q.openPopup()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJmb3JtIiwic2V0QnV0dG9uU3RhdGUiLCJ0aGlzIiwiX2NoZWNrSW52YWxpZElucHV0IiwiX2J1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9pbmFjdGl2ZUJ1dHRvbiIsImRpc2FibGVkIiwicmVtb3ZlIiwicmVzZXRWYWxpZGl0eU1hc3NhZ2UiLCJfaW5wdXRMaXN0IiwiZm9yRWFjaCIsImlucHV0IiwiX2lucHV0RXJyb3IiLCJfZXJyb3JzIiwiZXJyb3IiLCJ0ZXh0Q29udGVudCIsIl9mb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX2lucHV0IiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXJyb3JDbGFzcyIsIl9zaG93RXJyb3IiLCJfZXJyb3IiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVFcnJvciIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc2V0ZUlucHV0c1ZhbHVlcyIsInZhbHVlIiwiZW5hYmxlVmFsaWRhdGlvbiIsIkNhcmQiLCJuYW1lIiwibGluayIsImxpa2VzIiwiX2lkIiwib3duZXIiLCJ0ZW1wbGF0ZSIsIm15SWQiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJfZGVsZXRlVGhlTGlrZSIsInJlcyIsIl9saWtlcyIsIl9saWtlQ291bnRlciIsImxlbmd0aCIsIl9saWtlQnV0dG9uIiwiX2FkZFRoZUxpa2UiLCJfY2hlY2tNeUxpa2UiLCJvYmoiLCJfbXlJZCIsIl90aXRsZSIsIl9pbWFnZSIsIl9vd25lciIsIl90ZW1wbGF0ZSIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2VsZW1lbnRJbWFnZSIsIl9lbGVtZW50RGVzYyIsIl9lbGVtZW50QnRuRGVsZXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIlBvcHVwIiwicG9wdXAiLCJjbG9zZVBvcHVwIiwiX3BvcHVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9jbG9zZUJ5RXNjYXBlIiwiZXZ0Iiwia2V5Iiwib3BlblBvcHVwIiwiX2Nsb3NlQnlDbGljayIsInRhcmdldCIsImNvbnRhaW5zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Rm9ybSIsInN1cGVyIiwicHJldmVudERlZmF1bHQiLCJfc3VibWl0Rm9ybSIsIl9nZXRJbnB1dFZhbHVlcyIsInNldEluaXRpYWxJbnB1dHNWYWx1ZXMiLCJ2YWx1ZXMiLCJfZm9ybVZhbHVlcyIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJidXR0b25FZGl0IiwiYnV0dG9uQWRkIiwicHJvZmlsZUF2YXRhciIsImJ0blN1Ym1pdEVkaXQiLCJidG5TdWJtaXRFZGl0QXZhdGFyIiwiYnRuU3VibWl0QWRkIiwiYnRuU3VibWl0RGVsZXRlIiwiZXJyb3JUZW1wbGF0ZSIsImVycm9yc0NvbnRhaW5lciIsInJlbmRlckxvYWRUZXh0QnRuRWRpdCIsImlzTG9hZGluZyIsImJ0biIsInJlbmRlckxvYWRUZXh0QnRuQWRkIiwicmVuZGVyTG9hZFRleHRCdG5EZWxldGUiLCJzaG93RXJyb3JNYXNzYWdlIiwiZXJyIiwiZXJyRWxlbSIsImVycm9yRWxlbWVudCIsImNyZWF0ZUVycm9yRWxlbWVudCIsIlByb21pc2UiLCJzZXRUaW1lb3V0IiwidGhlbiIsInJlc29sdmUiLCJoaWRlRXJyb3JNYXNzYWdlIiwidXNlcklkIiwidmFsaWRhdG9yRWRpdCIsInZhbGlkYXRvckFkZCIsInZhbGlkYXRvckF2YXRhciIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwicGF0Y2hBdmF0YXIiLCJfcmVuZGVyTG9hZFRleHRCdG5FZGl0IiwiX2J0blN1Ym1pdEVkaXRBdmF0YXIiLCJmZXRjaCIsIl9iYXNlVXJsIiwibWV0aG9kIiwiYXV0aG9yaXphdGlvbiIsIl9hdXRob3JpemF0aW9uIiwiX2NvbnRlbnRUeXBlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJvayIsImpzb24iLCJyZWplY3QiLCJzdGF0dXMiLCJkZWxldGVDYXJkIiwiX3JlbmRlckxvYWRUZXh0QnRuRGVsZXRlIiwicHV0TGlrZUNhcmQiLCJkZWxldGVMaWtlIiwiX3JlbmRlckxvYWRUZXh0QnRuQWRkIiwiX2J0blN1Ym1pdEVkaXQiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsInBhdGhVc2VySW5mbyIsInBvc3ROZXdDYXJkIiwiYWxsIiwiaW5mbyIsImNhcmRzIiwidXNlc0luZm8iLCJzZXRVc2VySW5mbyIsImNhcmRzTGlzdCIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsImFwcGVuZEl0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZEl0ZW0iLCJwcmVwZW5kIiwiY2FyZCIsImNyZWF0ZUNhcmQiLCJpbWFnZSIsInRpdGxlIiwicG9wdXBUeXBlSW1hZ2UiLCJwb3B1cFR5cGVEZWxldGUiLCJteUxpa2UiLCJkZWxldGVUaGVMaWtlIiwiYWRkVGhlTGlrZSIsInBvcHVwVHlwZUFkZCIsImZpbmFsbHkiLCJwb3B1cFR5cGVFZGl0IiwicG9wdXBUeXBlQXZhdGFyIiwiX2Rlc2MiLCJoYW5kbGVEZWxldGVDYXJkIiwiX2J1dHRvbkRlbGV0ZSIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NhcmQiLCJhYm91dCIsIl9wcm9maWxlVmFsdWVzIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVBYm91dCIsIl9wcm9maWxlQXZhdGFyIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiXSwibWFwcGluZ3MiOiJtQkFDZSxNQUFNQSxFQUNuQkMsWUFBWUMsRUFBTUMsR0FBTSxLQXFDeEJDLGVBQWlCLEtBQ1ZDLEtBQUtDLHNCQUlSRCxLQUFLRSxRQUFRQyxVQUFVQyxJQUFJSixLQUFLSyxpQkFDaENMLEtBQUtFLFFBQVFJLFVBQVcsSUFKeEJOLEtBQUtFLFFBQVFDLFVBQVVJLE9BQU9QLEtBQUtLLGlCQUNuQ0wsS0FBS0UsUUFBUUksVUFBVyxJQXhDSixLQThEeEJFLHFCQUF1QixLQUNyQlIsS0FBS1MsV0FBV0MsU0FBU0MsSUFDdkJBLEVBQU1SLFVBQVVJLE9BQU9Q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cUwsR0FDNUN2TSxLQUFLMk0sZUFBaUIxTCxTQUFTQyxjQUFjaUksS0xpTG5CLENBQzVCekcsS0FBTSxpQkFDTjZKLE1BQU8scUJBQ1BwRCxPQUFRLHFCQUdWNkMsRUFBY3BHLG9CQUNka0csRUFBYWxHLG9CQUNiNkYsRUFBZTdGLG9CQUNmOEYsRUFBZ0I5RixvQkFDaEJxRyxFQUFnQnJHLG9CQUVoQnFDLEVBQWN6RixtQkFDZDBGLEVBQWExRixtQkFDYjJGLEVBQWdCM0YsbUJBRWhCZ0UsRUFBV25FLGlCQUFpQixTQUFTLEtBQ25DMkosRUFBYzdGLHVCQUF1QmtFLEVBQVNOLGVBQzlDOUIsRUFBY3pILHVCQUNkeUgsRUFBY2xJLGlCQUNkaU0sRUFBY3hHLGVBRWhCaUIsRUFBVXBFLGlCQUFpQixTQUFTLEtBQ2xDNkYsRUFBYTFILHVCQUNiMEgsRUFBYTVGLHFCQUNiNEYsRUFBYW5JLGlCQUNiK0wsRUFBYXRHLGVBRWZrQixFQUFjckUsaUJBQWlCLFNBQVMsS0FDdEM4RixFQUFnQjdGLHFCQUNoQjZGLEVBQWdCM0gsdUJBQ2hCMkgsRUFBZ0JwSSxpQkFDaEJrTSxFQUFnQnpHLGdCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDQutC70LDRgdGBINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgZm9ybVtuYW1lPSR7Zm9ybX1dYCk7XHJcbiAgICB0aGlzLl9pbnB1dCA9IGRhdGEuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbiA9IGRhdGEuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3IgPSBkYXRhLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9ycyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChkYXRhLmVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dCldO1xyXG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvbik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0Vycm9yKGlucHV0KSB7XHJcbiAgICB0aGlzLl9lcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICB0aGlzLl9lcnJvci50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yKTtcclxuICB9XHJcblxyXG4gIF9oaWRlRXJyb3IoaW5wdXQpIHtcclxuICAgIHRoaXMuX2Vycm9yID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIHRoaXMuX2Vycm9yLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvcik7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEJ1dHRvblN0YXRlID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLl9jaGVja0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uKTtcclxuICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbik7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuc2V0QnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0ZUlucHV0c1ZhbHVlcygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRpdHlNYXNzYWdlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvcik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2Vycm9ycy5mb3JFYWNoKChlcnJvcikgPT4ge1xyXG4gICAgICBlcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgdGhpcy5zZXRCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxufVxyXG4iLCIvLyDQutC70LDRgdGBINGN0LvQtdC80LXQvdGC0LAg0LrQsNGA0YLQvtGH0LrQuFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgbmFtZSwgbGluaywgbGlrZXMsIF9pZCwgb3duZXIgfSxcclxuICAgIHRlbXBsYXRlLFxyXG4gICAgbXlJZCxcclxuICAgIHsgaGFuZGxlSW1hZ2VDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2VDbGljayB9XHJcbiAgKSB7XHJcbiAgICB0aGlzLl90aXRsZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGxpbms7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuX293bmVyID0gb3duZXI7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGUpO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgIHRoaXMuX215SWQgPSBteUlkO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9lbGVtZW50RGVzYyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19uYW1lXCIpO1xyXG4gICAgdGhpcy5fZWxlbWVudEJ0bkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG5fdHlwZV9kZWxldGVcIik7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIik7XHJcbiAgICB0aGlzLl9saWtlQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgX2RlbGV0ZVRoZUxpa2UgPSAocmVzKSA9PiB7XHJcbiAgICB0aGlzLl9saWtlcyA9IHJlcy5saWtlcztcclxuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gIH07XHJcblxyXG4gIF9hZGRUaGVMaWtlID0gKHJlcykgPT4ge1xyXG4gICAgdGhpcy5fbGlrZXMgPSByZXMubGlrZXM7XHJcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcclxuICB9O1xyXG5cclxuICBfY2hlY2tNeUxpa2UgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgob2JqKSA9PiB7XHJcbiAgICAgIHJldHVybiBvYmouX2lkID09PSB0aGlzLl9teUlkO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2ltYWdlO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgdGhpcy5fZWxlbWVudERlc2MudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIGlmICh0aGlzLl9vd25lci5faWQgPT09IHRoaXMuX215SWQpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudEJ0bkRlbGV0ZS5jbGFzc0xpc3QuYWRkKFwiYnRuX3Zpc2libGVcIik7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fY2hlY2tNeUxpa2UoKSkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5faW1hZ2UsIHRoaXMuX3RpdGxlKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soXHJcbiAgICAgICAgdGhpcy5fY2hlY2tNeUxpa2UoKSxcclxuICAgICAgICB0aGlzLl9pZCxcclxuICAgICAgICB0aGlzLl9kZWxldGVUaGVMaWtlLFxyXG4gICAgICAgIHRoaXMuX2FkZFRoZUxpa2VcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZWxlbWVudEJ0bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzLl9lbGVtZW50LCB0aGlzLl9pZCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLy/QvtCx0YnQuNC5INC60LvQsNGB0YEg0LTQu9GPINC/0L7Qv9Cw0L/QvtCyXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cCgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9jbG9zZUJ5RXNjYXBlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlUG9wdXAgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VCeUVzY2FwZSk7XHJcbiAgfTtcclxuXHJcbiAgX2Nsb3NlQnlFc2NhcGUgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9jbG9zZUJ5Q2xpY2soZXZ0KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0O1xyXG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmJ0bl90eXBlX2Nsb3NlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZVBvcHVwKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4gdGhpcy5fY2xvc2VCeUNsaWNrKGV2dCkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuLy/QutC70LDRgdGBINC/0L7Qv9Cw0L/QvtCyINGBINGE0L7RgNC80L7QuVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgc3VibWl0Rm9ybSB9LCBwb3B1cCkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5fc3VibWl0Rm9ybSA9IHN1Ym1pdEZvcm07XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBzZXRJbml0aWFsSW5wdXRzVmFsdWVzKHZhbHVlcykge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlmICh2YWx1ZXNbaW5wdXQubmFtZV0pIHtcclxuICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlc1tpbnB1dC5uYW1lXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChcclxuICAgICAgKGlucHV0KSA9PiAodGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKVxyXG4gICAgKTtcclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQge1xyXG4gIGJ1dHRvbkVkaXQsXHJcbiAgYnV0dG9uQWRkLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBidG5TdWJtaXRFZGl0LFxyXG4gIGJ0blN1Ym1pdEFkZCxcclxuICBidG5TdWJtaXREZWxldGUsXHJcbiAgYnRuU3VibWl0RWRpdEF2YXRhcixcclxuICBlcnJvclRlbXBsYXRlLFxyXG4gIGVycm9yc0NvbnRhaW5lcixcclxufTtcclxuXHJcbi8vINC60L7QvdGE0LjQsyDQtNC70Y8g0LrQu9Cw0YHRgdCwINCy0LDQu9C40LTQsNGG0LjQuFxyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiLnBvcHVwX19lcnJvclwiLFxyXG59O1xyXG5cclxuY29uc3QgYnV0dG9uRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuX3R5cGVfZWRpdFwiKTsgLy8g0LrQvdC+0L/QutCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC/0YDQvtGE0LjQu9GMXHJcbmNvbnN0IGJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuX3R5cGVfYWRkXCIpOyAvLyDQutC90L7Qv9C60LAg0LTQvtCx0LDQstC40YLRjCDQutCw0YDRgtC+0YfQutGDXHJcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxuY29uc3QgYnRuU3VibWl0RWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbl90eXBlX2VkaXRcIik7XHJcbmNvbnN0IGJ0blN1Ym1pdEVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnBvcHVwX19idXR0b25fdHlwZV9lZGl0LWF2YXRhclwiXHJcbik7XHJcbmNvbnN0IGJ0blN1Ym1pdEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbl90eXBlX2FkZFwiKTtcclxuY29uc3QgYnRuU3VibWl0RGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uX3R5cGVfZGVsZXRlXCIpO1xyXG5jb25zdCBlcnJvclRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvcl9fdGVtcGxhdGVcIik7XHJcbmNvbnN0IGVycm9yc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3JzXCIpO1xyXG4iLCJpbXBvcnQge1xyXG4gIGJ0blN1Ym1pdEFkZCxcclxuICBidG5TdWJtaXREZWxldGUsXHJcbiAgZXJyb3JUZW1wbGF0ZSxcclxuICBlcnJvcnNDb250YWluZXIsXHJcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcblxyXG5leHBvcnQge1xyXG4gIHJlbmRlckxvYWRUZXh0QnRuRWRpdCxcclxuICByZW5kZXJMb2FkVGV4dEJ0bkFkZCxcclxuICByZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZSxcclxuICBzaG93RXJyb3JNYXNzYWdlLFxyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyTG9hZFRleHRCdG5FZGl0KGlzTG9hZGluZywgYnRuKSB7XHJcbiAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgYnRuLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidG4udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyTG9hZFRleHRCdG5BZGQoaXNMb2FkaW5nKSB7XHJcbiAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgYnRuU3VibWl0QWRkLnRleHRDb250ZW50ID0gXCLQodC+0LfQtNCw0L3QuNC1Li4uXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ0blN1Ym1pdEFkZC50ZXh0Q29udGVudCA9IFwi0KHQvtC30LTQsNGC0YxcIjtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckxvYWRUZXh0QnRuRGVsZXRlKGlzTG9hZGluZykge1xyXG4gIGlmIChpc0xvYWRpbmcpIHtcclxuICAgIGJ0blN1Ym1pdERlbGV0ZS50ZXh0Q29udGVudCA9IFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidG5TdWJtaXREZWxldGUudGV4dENvbnRlbnQgPSBcItCU0LBcIjtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRlbXBsYXRlRXJyb3IoKSB7XHJcbiAgcmV0dXJuIGVycm9yVGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yXCIpLmNsb25lTm9kZSh0cnVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRXJyb3JFbGVtZW50KGVycikge1xyXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGdldFRlbXBsYXRlRXJyb3IoKTtcclxuICBlcnJvckVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiLmVycm9yX19tYXNzYWdlXCJcclxuICApLnRleHRDb250ZW50ID0gYCR7ZXJyfS4g0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQuiA6KGA7XHJcbiAgcmV0dXJuIGVycm9yRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZUVycm9yTWFzc2FnZShlcnIpIHtcclxuICBlcnIuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0Vycm9yTWFzc2FnZShlcnIpIHtcclxuICBjb25zdCBlcnJFbGVtID0gY3JlYXRlRXJyb3JFbGVtZW50KGVycik7XHJcbiAgZXJyb3JzQ29udGFpbmVyLnByZXBlbmQoZXJyRWxlbSk7XHJcbiAgbmV3IFByb21pc2UoKHJlcykgPT4ge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGVyckVsZW0uY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgICAgcmVzKGVyckVsZW0pO1xyXG4gICAgfSwgMCk7XHJcbiAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBoaWRlRXJyb3JNYXNzYWdlKHJlcyk7XHJcbiAgICAgICAgICByZXNvbHZlKHJlcyk7XHJcbiAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgcmVzLnJlbW92ZSgpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH0pO1xyXG59XHJcbiIsImltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjsgLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LxcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiOyAvLyDQuNC80L/QvtGA0YIg0LrQu9Cw0YHRgdCwINGN0LvQtdC80LXQvdGC0LAg0LrQsNGA0YLQvtGH0LrQuFxyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7IC8vINC40LzQv9C+0YDRgiDQutC70LDRgdGB0LAg0L7RgtGA0LjRgdC+0LLQutC4INGN0LvQtdC80LXQvdGC0L7QslxyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjsgLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/0LAg0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC4XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjsgLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDQv9C+0LDQv9CwINGBINGE0L7RgNC80L7QuVxyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjsgLy8g0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQsCDRg9C/0YDQsNCy0LvRj9GO0YnQtdCz0L4g0L7RgtC+0LHRgNCw0LbQtdC90LjQtdC8INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0YDQvtGE0LjQu9GPXHJcbmltcG9ydCBQb3B1cFdpdGhEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVuZGVyTG9hZFRleHRCdG5FZGl0LFxyXG4gIHJlbmRlckxvYWRUZXh0QnRuQWRkLFxyXG4gIHNob3dFcnJvck1hc3NhZ2UsXHJcbiAgcmVuZGVyTG9hZFRleHRCdG5EZWxldGUsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgYnV0dG9uRWRpdCxcclxuICBidXR0b25BZGQsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIGJ0blN1Ym1pdEVkaXQsXHJcbiAgYnRuU3VibWl0RWRpdEF2YXRhcixcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7IC8v0LjQvNC/0L7RgNGCIERPTSDRjdC70LXQvNC10L3RgtC+0LIg0YHRgtGA0LDQvdC40YbRi1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcbmNvbnN0IHZhbGlkYXRvckVkaXQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBcImVkaXQtcHJvZmlsZVwiKTsgLy/QstC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCB2YWxpZGF0b3JBZGQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBcImFkZC1uZXctY2FyZFwiKTsgLy8g0LLQutC70Y7Rh9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCB2YWxpZGF0b3JBdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBcImNoYW5nZS1hdmF0YXJcIik7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKFxyXG4gIHtcclxuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yMFwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiBcIjc5YWNjZjhmLWNjNzYtNDAzMy04NGY5LTJkMWQ4MWMzMDE1N1wiLFxyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH0sXHJcbiAgfSxcclxuICByZW5kZXJMb2FkVGV4dEJ0bkVkaXQsXHJcbiAgcmVuZGVyTG9hZFRleHRCdG5BZGQsXHJcbiAgcmVuZGVyTG9hZFRleHRCdG5EZWxldGUsXHJcbiAgYnRuU3VibWl0RWRpdCxcclxuICBidG5TdWJtaXRFZGl0QXZhdGFyXHJcbik7XHJcblxyXG4vL9C/0L7Qu9GD0YfQtdC90LjQtSDQuCDRg9GB0YLQsNC90L7QstC60LAg0L3QsNGH0LDQu9GM0L3QvtC5INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvdCw0YfQsNC70YzQvdC+0LPQviDRgdC/0LjRgdC60LAg0LrQsNGA0YLQvtGH0LXQulxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgLnRoZW4oKFtpbmZvLCBjYXJkc10pID0+IHtcclxuICAgIHVzZXJJZCA9IGluZm8uX2lkO1xyXG4gICAgdXNlc0luZm8uc2V0VXNlckluZm8oaW5mbyk7XHJcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXMoY2FyZHMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIHNob3dFcnJvck1hc3NhZ2UoZXJyKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICAgICAgY2FyZHNMaXN0LmFwcGVuZEl0ZW0oY2FyZC5nZW5lcmF0ZUNhcmQoKSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgXCIuY2FyZHNcIlxyXG4pO1xyXG5cclxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBDYXJkKGRhdGEsIFwiLnRlbXBsYXRlXCIsIHVzZXJJZCwge1xyXG4gICAgaGFuZGxlSW1hZ2VDbGljazogKGltYWdlLCB0aXRsZSkgPT4ge1xyXG4gICAgICBwb3B1cFR5cGVJbWFnZS5vcGVuUG9wdXAoaW1hZ2UsIHRpdGxlKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVEZWxldGVDbGljazogKGVsZW1lbnQsIGlkKSA9PiB7XHJcbiAgICAgIHBvcHVwVHlwZURlbGV0ZS5vcGVuUG9wdXAoZWxlbWVudCwgaWQpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUxpa2VDbGljazogKG15TGlrZSwgaWQsIGRlbGV0ZVRoZUxpa2UsIGFkZFRoZUxpa2UpID0+IHtcclxuICAgICAgaWYgKG15TGlrZSkge1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLmRlbGV0ZUxpa2UoaWQpXHJcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZVRoZUxpa2UocmVzKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBzaG93RXJyb3JNYXNzYWdlKGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5wdXRMaWtlQ2FyZChpZClcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgYWRkVGhlTGlrZShyZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIHNob3dFcnJvck1hc3NhZ2UoZXJyKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgcG9wdXBUeXBlQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAge1xyXG4gICAgc3VibWl0Rm9ybTogKGl0ZW0pID0+IHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLnBvc3ROZXdDYXJkKGl0ZW0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQocmVzKTtcclxuICAgICAgICAgIGNhcmRzTGlzdC5wcmVwZW5kSXRlbShjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBzaG93RXJyb3JNYXNzYWdlKGVycik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICByZW5kZXJMb2FkVGV4dEJ0bkFkZChmYWxzZSk7XHJcbiAgICAgICAgICBwb3B1cFR5cGVBZGQuY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLnBvcHVwX3R5cGVfYWRkXCJcclxuKTtcclxuXHJcbi8v0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcG9wdXBUeXBlRWRpdCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHtcclxuICAgIHN1Ym1pdEZvcm06IChpdGVtKSA9PiB7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5wYXRoVXNlckluZm8oaXRlbSlcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICB1c2VzSW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIHNob3dFcnJvck1hc3NhZ2UoZXJyKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgIHJlbmRlckxvYWRUZXh0QnRuRWRpdChmYWxzZSwgYnRuU3VibWl0RWRpdCk7XHJcbiAgICAgICAgICBwb3B1cFR5cGVFZGl0LmNsb3NlUG9wdXAoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5wb3B1cF90eXBlX2VkaXRcIlxyXG4pO1xyXG5cclxuLy/QuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQv9C+0L/QsNC/0LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IHBvcHVwVHlwZUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHtcclxuICAgIHN1Ym1pdEZvcm06IChpdGVtKSA9PiB7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5wYXRjaEF2YXRhcihpdGVtLmxpbmspXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgdXNlc0luZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBzaG93RXJyb3JNYXNzYWdlKGVycik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICBwb3B1cFR5cGVBdmF0YXIuY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgICAgcmVuZGVyTG9hZFRleHRCdG5FZGl0KGZhbHNlLCBidG5TdWJtaXRFZGl0QXZhdGFyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5wb3B1cF90eXBlX2F2YXRhclwiXHJcbik7XHJcblxyXG4vL9C40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC/0L7Qv9Cw0L/QsCDRg9Cy0LXQu9C40YfQtdC90L3QvtC5INC60LDRgNGC0LjQvdC60LhcclxuY29uc3QgcG9wdXBUeXBlSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWdcIik7XHJcblxyXG5jb25zdCBwb3B1cFR5cGVEZWxldGUgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIsIHtcclxuICBoYW5kbGVEZWxldGVDYXJkOiAoaWQsIGNhcmQpID0+IHtcclxuICAgIHJlbmRlckxvYWRUZXh0QnRuRGVsZXRlKHRydWUpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGlkKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHNob3dFcnJvck1hc3NhZ2UoZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHJlbmRlckxvYWRUZXh0QnRuRGVsZXRlKGZhbHNlKTtcclxuICAgICAgICBjYXJkLnJlbW92ZSgpO1xyXG4gICAgICAgIHBvcHVwVHlwZURlbGV0ZS5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy/QuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQsdC70L7QutCwINGD0L/RgNCw0LLQu9C10L3QuNGPINC40L3RhNC+0YDQsNGG0LjQtdC5INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHVzZXNJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgYWJvdXQ6IFwiLnByb2ZpbGVfX2Fib3V0LW1lXCIsXHJcbiAgYXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcblxyXG5wb3B1cFR5cGVFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwVHlwZUFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFR5cGVJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFR5cGVEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBUeXBlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG52YWxpZGF0b3JFZGl0LmVuYWJsZVZhbGlkYXRpb24oKTtcclxudmFsaWRhdG9yQWRkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxudmFsaWRhdG9yQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cFR5cGVFZGl0LnNldEluaXRpYWxJbnB1dHNWYWx1ZXModXNlc0luZm8uZ2V0VXNlckluZm8oKSk7XHJcbiAgdmFsaWRhdG9yRWRpdC5yZXNldFZhbGlkaXR5TWFzc2FnZSgpO1xyXG4gIHZhbGlkYXRvckVkaXQuc2V0QnV0dG9uU3RhdGUoKTtcclxuICBwb3B1cFR5cGVFZGl0Lm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuYnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgdmFsaWRhdG9yQWRkLnJlc2V0VmFsaWRpdHlNYXNzYWdlKCk7XHJcbiAgdmFsaWRhdG9yQWRkLnJlc2V0ZUlucHV0c1ZhbHVlcygpO1xyXG4gIHZhbGlkYXRvckFkZC5zZXRCdXR0b25TdGF0ZSgpO1xyXG4gIHBvcHVwVHlwZUFkZC5vcGVuUG9wdXAoKTtcclxufSk7XHJcbnByb2ZpbGVBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICB2YWxpZGF0b3JBdmF0YXIucmVzZXRlSW5wdXRzVmFsdWVzKCk7XHJcbiAgdmFsaWRhdG9yQXZhdGFyLnJlc2V0VmFsaWRpdHlNYXNzYWdlKCk7XHJcbiAgdmFsaWRhdG9yQXZhdGFyLnNldEJ1dHRvblN0YXRlKCk7XHJcbiAgcG9wdXBUeXBlQXZhdGFyLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgYmFzZVVybCwgaGVhZGVycyB9LFxyXG4gICAgcmVuZGVyTG9hZFRleHRCdG5FZGl0LFxyXG4gICAgcmVuZGVyTG9hZFRleHRCdG5BZGQsXHJcbiAgICByZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZSxcclxuICAgIGJ0blN1Ym1pdEVkaXQsXHJcbiAgICBidG5TdWJtaXRFZGl0QXZhdGFyXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSBoZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICB0aGlzLl9jb250ZW50VHlwZSA9IGhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XHJcbiAgICB0aGlzLl9yZW5kZXJMb2FkVGV4dEJ0bkVkaXQgPSByZW5kZXJMb2FkVGV4dEJ0bkVkaXQ7XHJcbiAgICB0aGlzLl9yZW5kZXJMb2FkVGV4dEJ0bkFkZCA9IHJlbmRlckxvYWRUZXh0QnRuQWRkO1xyXG4gICAgdGhpcy5fcmVuZGVyTG9hZFRleHRCdG5EZWxldGUgPSByZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZTtcclxuICAgIHRoaXMuX2J0blN1Ym1pdEVkaXQgPSBidG5TdWJtaXRFZGl0O1xyXG4gICAgdGhpcy5fYnRuU3VibWl0RWRpdEF2YXRhciA9IGJ0blN1Ym1pdEVkaXRBdmF0YXI7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBhdGhVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJMb2FkVGV4dEJ0bkVkaXQodHJ1ZSwgdGhpcy5fYnRuU3VibWl0RWRpdCk7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBvc3ROZXdDYXJkKGRhdGEpIHtcclxuICAgIHRoaXMuX3JlbmRlckxvYWRUZXh0QnRuQWRkKHRydWUpO1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBhdGNoQXZhdGFyID0gKGxpbmspID0+IHtcclxuICAgIHRoaXMuX3JlbmRlckxvYWRUZXh0QnRuRWRpdCh0cnVlLCB0aGlzLl9idG5TdWJtaXRFZGl0QXZhdGFyKTtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB0aGlzLl9jb250ZW50VHlwZSxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBkZWxldGVDYXJkID0gKGlkKSA9PiB7XHJcbiAgICB0aGlzLl9yZW5kZXJMb2FkVGV4dEJ0bkRlbGV0ZSh0cnVlKTtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcHV0TGlrZUNhcmQgPSAoaWQpID0+IHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGRlbGV0ZUxpa2UgPSAoaWQpID0+IHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIiwiLy/QutC70LDRgdGBINCz0LXQvdC10YDQsNGG0LjQuCDRgdC10LrRhtC40LhcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICB9XHJcblxyXG4gIGFwcGVuZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHByZXBlbmRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuLy/QutC70LDRgdGBINC/0L7Qv9Cw0L/QsCDRg9Cy0LXQu9C40YfQtdC90L3QvtCz0L4g0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2Rlc2MgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19kZXNjcmlwdGlvblwiKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cCA9IChsaW5rLCBuYW1lKSA9PiB7XHJcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9kZXNjLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCwgeyBoYW5kbGVEZWxldGVDYXJkIH0pIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5faWQsIHRoaXMuX2NhcmQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgb3BlblBvcHVwID0gKGNhcmQsIGlkKSA9PiB7XHJcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcclxuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xyXG4gICAgdGhpcy5faWQgPSBpZDtcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xyXG4gICAgdGhpcy5fcHJvZmlsZUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9wcm9maWxlVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9wcm9maWxlVmFsdWVzLm5hbWUgPSB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX3Byb2ZpbGVWYWx1ZXMuYWJvdXQgPSB0aGlzLl9wcm9maWxlQWJvdXQudGV4dENvbnRlbnQ7XHJcbiAgICByZXR1cm4gdGhpcy5fcHJvZmlsZVZhbHVlcztcclxuICB9O1xyXG5cclxuICBzZXRVc2VySW5mbyA9ICh7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkgPT4ge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZUFib3V0LnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHthdmF0YXJ9KWA7XHJcbiAgfTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9